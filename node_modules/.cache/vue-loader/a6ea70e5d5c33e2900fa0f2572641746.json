{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_order_return.vue?vue&type=template&id=4ff6f592&scoped=true&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_order_return.vue","mtime":1676968324000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1678778410194},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["\n<div>\n  <el-dialog\n    v-if=\"isShow\"\n    title=\"归还结算\"\n    :visible.sync=\"isShow\"\n    width=\"900px\"\n    @close=\"closeFn\"\n    append-to-body\n    style=\"text-align: left\">\n    <el-form ref=\"form1\" label-width=\"120px\" size=\"small\">\n      <div>\n        订单基本信息\n      </div>\n      <div style=\"border-radius: 5px;padding: 0px 5px;border: 1px solid #eeeeee;padding-top: 10px;padding-bottom: 10px;margin-top: 10px\">\n        <el-row>\n          <el-col :span=\"12\" style=\"display: flex;flex-direction: column\">\n            <el-form-item label=\"订单编号：\" class=\"bottom\">\n              <div style=\"display: flex\">\n                <span >{{param.no}}</span>\n                <span style=\"flex: 1\"></span>\n              </div>\n            </el-form-item>\n            <el-form-item label=\"租赁方案：\" class=\"bottom\">\n                {{getPackageName(param.goodsCombinationJson)}}\n            </el-form-item>\n            <el-form-item label=\"押金：\" class=\"bottom\">\n                {{param.amount}}({{param.freeType == 1?\"芝麻免押\":(param.freeType == 2?\"支付宝押金\":\"其他\")}})\n            </el-form-item>\n            <el-form-item label=\"商品官网价：\" class=\"bottom\">\n                {{ param.websitePrice }}\n            </el-form-item>\n            <el-form-item label=\"每期租金：\" class=\"bottom\">\n                {{ param.rentPerMoney }}(第一期{{param.rentFirstMoney}})(总租金{{ param.rentMoney }})\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"租赁商品：\" class=\"bottom\">\n              <div style=\"display: flex\">\n                <span >{{ param.goodsTitle }}</span>\n                <span style=\"color: #169BD5\" @click=\"goodsInfo\">点击查看商品详情</span>\n                <span style=\"flex: 1\"></span>\n              </div>\n            </el-form-item>\n            <el-form-item label=\"租期：\" class=\"bottom\">\n                {{param.lease}}个{{ getLeaseTypeTitle(param.leaseType) }}\n            </el-form-item>\n            <el-form-item label=\"二次押金：\" class=\"bottom\">\n                {{ getSecondDeposit() }}\n            </el-form-item>\n            <el-form-item label=\"买断价：\" class=\"bottom\">\n               当前买断价{{getNowBuyoutMoney()}}(总买断价：{{getBuyoutPrice(param.goodsCombinationJson)}})\n            </el-form-item>\n            <el-form-item label=\"买断尾款：\" class=\"bottom\">\n                {{getBuyoutBalancePayment() }}\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </div>\n      <div style=\"margin-top: 20px\">\n        损坏情况\n      </div>\n      <avue-crud  :key=\"table_key\" ref=\"crud\" :option=\"destroyInfo\" :data=\"destroy\" style=\"margin-top: 10px\">\n        <template #menu=\"{row,index,size}\">\n          <div style=\"display: flex\">\n            <el-button type=\"text\" icon=\"el-icon-view\"  @click=\"viewImage(row)\">查看附件</el-button>\n          </div>\n        </template>\n      </avue-crud>\n      <div style=\"text-align: center;margin-top: 10px\"><el-button icon=\"el-icon-plus\" @click=\"dialogFormVisible = true\">{{destoryBill.money>0?\"编辑损坏账单\":\"添加损坏账单\"}}</el-button></div>\n      <div style=\"margin-top: 20px\">\n        订单支付记录\n      </div>\n      <avue-crud  :key=\"table_key\" ref=\"crud\" :option=\"option\" :data=\"orderBills\" style=\"margin-top: 10px\">\n        <template #menu=\"{row,index,size}\">\n          <div style=\"display: flex\">\n            <el-checkbox v-model=\"row.hasPay\" v-if=\"row.cancel\">需要支付</el-checkbox>\n          </div>\n        </template>\n        <template slot=\"typeName\" slot-scope=\"scope\">\n          <span>{{ getOrderNperNumber(scope) }}</span>\n        </template>\n        <template slot=\"due\" slot-scope=\"scope\">\n          <span>{{ getDue(scope.row) }}</span>\n        </template>\n        <template slot=\"factPayMoney\" slot-scope=\"scope\">\n            <span v-if=\"scope.row.factPayMoney\">\n                实付({{scope.row.factPayMoney}})\n            </span>\n            <span v-if=\"scope.row.reductionMoney\">\n                减免({{scope.row.reductionMoney}})\n            </span>\n            <span v-if=\"scope.row.couponMoney\">\n                优惠({{scope.row.couponMoney}})\n            </span>\n            <span v-if=\"scope.row.depositMoney\">\n                押金抵消({{scope.row.depositMoney}})\n            </span>\n            <span v-if=\"(Number.parseFloat(scope.row.factPayMoney)+Number.parseFloat(scope.row.reductionMoney)+Number.parseFloat(scope.row.couponMoney)+Number.parseFloat(scope.row.depositMoney)) === 0\">0</span>\n        </template>\n        <template slot=\"allOverdueMoney\" slot-scope=\"scope\">\n            <div v-if=\"scope.row.allOverdueMoney && Number.parseFloat(scope.row.allOverdueMoney)>0\">{{ scope.row.allOverdueMoney }}\n                <span>{{scope.row.noPayOverdueMoney == 0?\"(已结清)\":(\"（欠款\"+scope.row.noPayOverdueMoney+\"）\")}}</span>\n            </div>\n            <div v-else>0</div>\n        </template>\n      </avue-crud>\n      <div style=\"margin-top: 5px\">\n        总减免：{{reduction}}\n      </div>\n      <div style=\"margin-top: 0px\">\n        已付款：{{paid}}\n      </div>\n      <div style=\"margin-top: 0px\">\n        总押金：{{firstDeposit>0?firstDeposit:allDeposit}}\n      </div>\n      <div style=\"margin-top: 0px\">\n        剩余押金：{{leaveDeposit}}\n      </div>\n      <div style=\"margin-top: 0px\">\n        欠款：{{allDue==0?0:-1*allDue}}\n      </div>\n      <div style=\"margin-top: 0px\" v-if=\"depositType == 2\">\n        汇总：{{totleMoney}}\n      </div>\n      <div style=\"margin-top: 20px\">\n        客户结算方式（客户选择：<span style=\"color: blue\">归还商品</span>，<span style=\"color: red\">{{depositType ==2?\"押金抵消\":\"退还押金\"}}</span>）\n      </div>\n      <div style=\"margin-top: 10px\" v-if=\"depositType==2\">\n        <span v-if=\"hasPay<0\">需支付金额：<span style=\"color: red;font-size: 20px\">{{ Math.abs(hasPay)}}</span></span>\n        <span v-if=\"hasPay>0\">需退回金额：<span style=\"color: red;font-size: 20px\">{{ Math.abs(hasPay)}}</span></span>\n      </div>\n      <div style=\"margin-top: 10px\" v-else>\n        <span v-if=\"allDue>=0\">需支付：<span style=\"color: red;font-size: 20px\">{{ Math.abs(allDue)}}</span></span>\n        <span v-if=\"leaveDeposit>=0\" style=\"margin-left: 10px;\">需退回押金：<span style=\"color: red;font-size: 20px\">{{ leaveDeposit}}</span></span>\n      </div>\n\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"isShow = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"isOfflineShow = true\" v-if=\"param.status == 8\">线下结算</el-button>\n         <el-button type=\"primary\" @click=\"onlineShow = true\" v-if=\"param.status == 8\">生成在线结算订单</el-button>\n    </span>\n  </el-dialog>\n  <el-dialog title=\"赔偿账单\" :visible.sync=\"dialogFormVisible\"  style=\"z-index: 9999 !important;\">\n    <el-form ref=\"billForm\" :model=\"destoryBill\">\n      <el-form-item label=\"赔偿金额\" :label-width=\"140\" prop=\"money\"  :rules=\"[ { required: true, message: '金额不能为空'}]\">\n        <el-input v-model=\"destoryBill.money\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"addBill\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <el-dialog\n    v-if=\"isOfflineShow\"\n    v-model=\"form\"\n    title=\"线下结算\"\n    :visible.sync=\"isOfflineShow\"\n    width=\"600px\"\n    @close=\"closeFn\"\n    append-to-body\n    style=\"text-align: left\">\n    <avue-form ref=\"form\" class=\"bill_info\" v-model=\"offlineForm\" :option=\"offline\" @submit=\"submit\" @reset-change=\"cancle\">\n      <template slot-scope=\"{size}\" slot=\"menuForm\">\n        <div slot=\"footer\" class=\"dialog-footer\" style=\"text-align: end;\">\n          <el-button size=\"medium\" @click=\"isOfflineShow = false\">取 消</el-button>\n          <el-button size=\"medium\" type=\"primary\"  @click=\"submit(1)\">确 定</el-button>\n        </div>\n      </template>\n    </avue-form>\n  </el-dialog>\n  <el-dialog title=\"线上结算\" :visible.sync=\"onlineShow\"  style=\"z-index: 9999 !important;\">\n    <div>\n      <div v-if=\"offlineForm.payMoney>0\" style=\"padding-bottom: 10px\">结算需支付金额：<span style=\"color: red;font-size: 20px\">{{offlineForm.payMoney}}</span></div>\n      <div v-if=\"offlineForm.returnMoney>0\">结算退还金额：<span style=\"color: red;font-size: 20px\">{{offlineForm.returnMoney}}</span>(在订单支付成功后原路退回)</div>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"onlineShow = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit(2)\">确 定</el-button>\n    </div>\n  </el-dialog>\n  <el-image-viewer\n    class=\"imageview\"\n    v-if=\"showViewer2\"\n    style=\"z-index:9999 !important;\"\n    :on-close=\"() => {showViewer2 = false;}\"\n    :url-list=\"imageslist\">\n  </el-image-viewer>\n</div>\n",null]}