{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\page\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\page\\login\\index.vue","mtime":1678842821707},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["\nimport userLogin from \"./userlogin\";\nimport codeLogin from \"./codelogin\";\nimport thirdLogin from \"./thirdlogin\";\nimport { mapGetters } from \"vuex\";\nimport { dateFormat } from \"@/util/date\";\nimport { validatenull } from \"@/util/validate\";\nimport topLang from \"@/page/index/top/top-lang\";\nimport topColor from \"@/page/index/top/top-color\";\nimport {getQueryString, getTopUrl} from \"@/util/util\";\nexport default {\n  name: \"login\",\n  components: {\n    userLogin,\n    codeLogin,\n    thirdLogin,\n    topLang,\n    topColor\n  },\n  data() {\n    return {\n      time: \"\",\n      company: process.env.VUE_APP_COMPANY,\n      beian: process.env.VUE_APP_BEIAN,\n      activeName: \"user\",\n      socialForm: {\n        tenantId: \"000000\",\n        source: \"\",\n        code: \"\",\n        state: \"\",\n      }\n    };\n  },\n  watch: {\n    $route() {\n      this.handleLogin();\n    }\n  },\n  created() {\n    this.handleLogin();\n    this.getTime();\n  },\n  mounted() {\n    console.log(333,process.env)\n  },\n  computed: {\n    ...mapGetters([\"website\", \"tagWel\"])\n  },\n  props: [],\n  methods: {\n    getTime() {\n      setInterval(() => {\n        this.time = dateFormat(new Date());\n      }, 1000);\n    },\n    handleLogin() {\n      const topUrl = getTopUrl();\n      const redirectUrl = \"/oauth/redirect/\";\n      this.socialForm.source = getQueryString(\"source\");\n      this.socialForm.code = getQueryString(\"code\");\n      this.socialForm.state = getQueryString(\"state\");\n      if (validatenull(this.socialForm.source) && topUrl.includes(redirectUrl)) {\n        let source = topUrl.split(\"?\")[0];\n        source = source.split(redirectUrl)[1];\n        this.socialForm.source = source;\n      }\n      if (!validatenull(this.socialForm.source) && !validatenull(this.socialForm.code) && !validatenull(this.socialForm.state)) {\n        const loading = this.$loading({\n          lock: true,\n          text: '第三方系统登录中,请稍后。。。',\n          spinner: \"el-icon-loading\"\n        });\n        this.$store.dispatch(\"LoginBySocial\", this.socialForm).then(() => {\n          window.location.href = topUrl.split(redirectUrl)[0];\n          this.$router.push({path: this.tagWel.value});\n          loading.close();\n        }).catch(() => {\n          loading.close();\n        });\n      }\n    }\n  }\n};\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/login","sourcesContent":["<template>\n  <div style=\"height: 100%;\n    display: flex;\n    flex-direction: column;\n    background: url(http://www.17sucai.com/preview/242158/2015-01-10/%E7%99%BB%E5%BD%95/images/cloud.jpg) 0 bottom repeat-x #049ec4;\">\n    <div class=\"login-container\"\n         @keyup.enter.native=\"handleLogin\">\n      <top-color v-show=\"false\"></top-color>\n      <div class=\"login-weaper animated bounceInDown\">\n        <div class=\"login-left\">\n          <div class=\"login-time\">\n            {{time}}\n          </div>\n          <img class=\"img\"\n               src=\"/img/logo.png\"\n               alt=\"\">\n          <p class=\"title\">{{ $t('login.info') }}</p>\n        </div>\n        <div class=\"login-border\">\n          <div class=\"login-main\">\n            <h4 class=\"login-title\">\n              {{ $t('login.title') }}{{website.title}}\n              <top-lang></top-lang>\n            </h4>\n            <userLogin v-if=\"activeName==='user'\"></userLogin>\n            <codeLogin v-else-if=\"activeName==='code'\"></codeLogin>\n            <thirdLogin v-else-if=\"activeName==='third'\"></thirdLogin>\n            <div class=\"login-menu\">\n              <a href=\"#\" @click.stop=\"activeName='user'\">{{ $t('login.userLogin') }}</a>\n              <a href=\"#\" @click.stop=\"activeName='code'\">{{ $t('login.phoneLogin') }}</a>\n              <a href=\"#\" @click.stop=\"activeName='third'\">{{ $t('login.thirdLogin') }}</a>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n    <div style=\"width: 100%;text-align: center;padding-bottom: 20px;font-size: 14px;color: white\">\n      <div>Copyright  2022-2023 {{ company }} 版权所有 </div>\n      <a href=\"https://beian.miit.gov.cn/#/Integrated/index\" style=\"color: white\">{{ beian }}</a>\n    </div>\n  </div>\n</template>\n<script>\nimport userLogin from \"./userlogin\";\nimport codeLogin from \"./codelogin\";\nimport thirdLogin from \"./thirdlogin\";\nimport { mapGetters } from \"vuex\";\nimport { dateFormat } from \"@/util/date\";\nimport { validatenull } from \"@/util/validate\";\nimport topLang from \"@/page/index/top/top-lang\";\nimport topColor from \"@/page/index/top/top-color\";\nimport {getQueryString, getTopUrl} from \"@/util/util\";\nexport default {\n  name: \"login\",\n  components: {\n    userLogin,\n    codeLogin,\n    thirdLogin,\n    topLang,\n    topColor\n  },\n  data() {\n    return {\n      time: \"\",\n      company: process.env.VUE_APP_COMPANY,\n      beian: process.env.VUE_APP_BEIAN,\n      activeName: \"user\",\n      socialForm: {\n        tenantId: \"000000\",\n        source: \"\",\n        code: \"\",\n        state: \"\",\n      }\n    };\n  },\n  watch: {\n    $route() {\n      this.handleLogin();\n    }\n  },\n  created() {\n    this.handleLogin();\n    this.getTime();\n  },\n  mounted() {\n    console.log(333,process.env)\n  },\n  computed: {\n    ...mapGetters([\"website\", \"tagWel\"])\n  },\n  props: [],\n  methods: {\n    getTime() {\n      setInterval(() => {\n        this.time = dateFormat(new Date());\n      }, 1000);\n    },\n    handleLogin() {\n      const topUrl = getTopUrl();\n      const redirectUrl = \"/oauth/redirect/\";\n      this.socialForm.source = getQueryString(\"source\");\n      this.socialForm.code = getQueryString(\"code\");\n      this.socialForm.state = getQueryString(\"state\");\n      if (validatenull(this.socialForm.source) && topUrl.includes(redirectUrl)) {\n        let source = topUrl.split(\"?\")[0];\n        source = source.split(redirectUrl)[1];\n        this.socialForm.source = source;\n      }\n      if (!validatenull(this.socialForm.source) && !validatenull(this.socialForm.code) && !validatenull(this.socialForm.state)) {\n        const loading = this.$loading({\n          lock: true,\n          text: '第三方系统登录中,请稍后。。。',\n          spinner: \"el-icon-loading\"\n        });\n        this.$store.dispatch(\"LoginBySocial\", this.socialForm).then(() => {\n          window.location.href = topUrl.split(redirectUrl)[0];\n          this.$router.push({path: this.tagWel.value});\n          loading.close();\n        }).catch(() => {\n          loading.close();\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/styles/login.scss\";\n</style>\n"]}]}