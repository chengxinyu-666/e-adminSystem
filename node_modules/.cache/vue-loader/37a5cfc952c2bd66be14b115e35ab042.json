{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_collection.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_collection.vue","mtime":1673358508000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["\n\n  import {distribute} from \"../../api/audit/ordercollection\"\n  import {getAuditorUserList} from \"../../api/audit/orderexamine\";\n\n  export default {\n    name: 'dialog',\n    data () {\n      return {\n        form:{\n          roleAlias:null,\n          userId:null,\n        },\n        rules: {\n          roleAlias: [\n            { required: true, message: '请选择催款角色', trigger: 'change' }\n          ],\n          userId: [\n            {  required: true, message: '请选择催款人员', trigger: 'change' }\n          ],\n        },\n        param: {reset:false},\n        isShow:false,\n        options: [{\n          value: 'collection_director',\n          label: '催款主管'\n        }, {\n          value: 'collector',\n          label: '催款员'\n        }],\n        users: [],\n      };\n    },\n    watch: {\n      isShow(val, oldVal) {\n        if (!val){\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }\n      },\n      'form.roleAlias': function (val) {\n        const param = {roleAlias: this.form.roleAlias};\n        this.form.userId = null;\n        getAuditorUserList(param).then(res => {\n          this.users = res.data.data\n        })\n      },\n    },\n    mounted() {\n      console.log(this.param)\n\n    },\n    created () {\n      console.log(this.param)\n    },\n    activated () { },\n    methods: {\n      confirm(){\n        console.log(this.form)\n        this.$refs.form.validate((valid) => {\n          console.log(valid)\n          if (!valid) {\n            console.log('请选择参数');\n            return false;\n          }\n          const  paras = {userId:this.form.userId,orderIds:this.param.orderIds,reset:false};\n          distribute(paras).then(res => {\n            console.log(res.data.data)\n            this.$message(\"提交成功\")\n            this.isShow = false\n          }).catch(res=>{\n            console.log(\"失败\")\n          });\n        });\n      },\n      closeFn () {\n      },\n      handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n      }\n    },\n  };\n",{"version":3,"sources":["dialog_collection.vue"],"names":[],"mappings":";;AA4CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dialog_collection.vue","sourceRoot":"src/components/order","sourcesContent":["<!--\n 设置一审\n -->\n<template>\n  <div>\n    <el-dialog\n      v-if=\"isShow\"\n      title=\"设置催款员\"\n      :visible.sync=\"isShow\"\n      width=\"400px\"\n      @close=\"closeFn\"\n      append-to-body\n      style=\"text-align: left\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" size=\"small\">\n        <el-form-item label=\"催款角色\" prop=\"roleAlias\" >\n          <el-select v-model=\"form.roleAlias\" filterable placeholder=\"请选择催款员角色\">\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"催款人员\" prop=\"userId\" >\n          <el-select v-model=\"form.userId\" filterable placeholder=\"请选择催款人员\">\n            <el-option\n              v-for=\"item in users\"\n              :key=\"item.id\"\n              :label=\"item.realName\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"isShow = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\n\n  import {distribute} from \"../../api/audit/ordercollection\"\n  import {getAuditorUserList} from \"../../api/audit/orderexamine\";\n\n  export default {\n    name: 'dialog',\n    data () {\n      return {\n        form:{\n          roleAlias:null,\n          userId:null,\n        },\n        rules: {\n          roleAlias: [\n            { required: true, message: '请选择催款角色', trigger: 'change' }\n          ],\n          userId: [\n            {  required: true, message: '请选择催款人员', trigger: 'change' }\n          ],\n        },\n        param: {reset:false},\n        isShow:false,\n        options: [{\n          value: 'collection_director',\n          label: '催款主管'\n        }, {\n          value: 'collector',\n          label: '催款员'\n        }],\n        users: [],\n      };\n    },\n    watch: {\n      isShow(val, oldVal) {\n        if (!val){\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }\n      },\n      'form.roleAlias': function (val) {\n        const param = {roleAlias: this.form.roleAlias};\n        this.form.userId = null;\n        getAuditorUserList(param).then(res => {\n          this.users = res.data.data\n        })\n      },\n    },\n    mounted() {\n      console.log(this.param)\n\n    },\n    created () {\n      console.log(this.param)\n    },\n    activated () { },\n    methods: {\n      confirm(){\n        console.log(this.form)\n        this.$refs.form.validate((valid) => {\n          console.log(valid)\n          if (!valid) {\n            console.log('请选择参数');\n            return false;\n          }\n          const  paras = {userId:this.form.userId,orderIds:this.param.orderIds,reset:false};\n          distribute(paras).then(res => {\n            console.log(res.data.data)\n            this.$message(\"提交成功\")\n            this.isShow = false\n          }).catch(res=>{\n            console.log(\"失败\")\n          });\n        });\n      },\n      closeFn () {\n      },\n      handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n      }\n    },\n  };\n</script>\n<style lang=\"scss\" scoped=\"scoped\">\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"]}]}