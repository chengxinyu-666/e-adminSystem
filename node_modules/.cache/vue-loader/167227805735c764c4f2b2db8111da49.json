{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_entry_form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_entry_form.vue","mtime":1678632082000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["\n\n  import {headers} from \"../../util/auth\";\n  import {temps} from \"@/api/parameter/entryformtemplate\";\n  import {entryForm, update as orderUpdate} from \"../../api/order/order\";\n\n\n\n  export default {\n    name: 'dialog',\n    data () {\n      return {\n        param:null,\n        isShow:false,\n        name:null,\n        formList:null,\n        entryForm:[],\n      };\n    },\n    watch: {\n      isShow(val, oldVal) {\n        if (!val){\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }\n      }\n    },\n    mounted() {\n      console.log(this.param)\n      if (this.param.entryForm){\n        this.entryForm = JSON.parse(this.param.entryForm)\n      }\n    },\n    created () {\n      temps().then(res => {\n        this.formList = res.data.data;\n        console.log( this.formList )\n      });\n    },\n    activated () { },\n    methods: {\n      runStr(str){\n        return eval(\"(function(){return \"+str+\";})()\");\n      },\n      headers(){\n        return headers()\n      },\n      closeFn () {\n      },\n      changeForm(item){\n        this.entryForm = JSON.parse(item.content);\n      },\n      confirm(){\n        for (const para of this.entryForm) {\n          for (const item of para.value) {\n            if (item.type == 0){\n              item.value = this.runStr(item.val)\n            }\n          }\n        }\n        const  paras = {orderId:this.param.id,entryForm:JSON.stringify(this.entryForm)};\n        entryForm(paras).then(res => {\n          console.log(res.data.data)\n          this.$message(\"提交成功\")\n          this.isShow = false\n        });\n      },\n    },\n  };\n",{"version":3,"sources":["dialog_entry_form.vue"],"names":[],"mappings":";;AAsHA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dialog_entry_form.vue","sourceRoot":"src/components/order","sourcesContent":["<!--\n 订单修改\n -->\n<template>\n  <div>\n    <el-dialog\n      v-if=\"isShow\"\n      title=\"进件单\"\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"isShow\"\n      width=\"900px\"\n      @close=\"closeFn\"\n      append-to-body\n      style=\"text-align: left\">\n      <el-form ref=\"form1\" label-width=\"120px\" size=\"small\">\n        <div>\n          选择进件单模板\n          <el-select v-model=\"name\" placeholder=\"请选择进件单模板\" style=\"margin-left: 10px\">\n              <el-option :label=\"item.title\" v-for=\"item in this.formList\"\n                     @click.native=\"changeForm(item)\"\n                     :value=\"item.title\"></el-option>\n          </el-select>\n        </div>\n        <div style=\"margin-top: 10px\">\n          <el-alert\n            title=\"选择进件单会覆盖当前进件单，请注意谨慎选择\"\n            type=\"error\">\n          </el-alert>\n        </div>\n        <div style=\"margin-top: 10px\" v-if=\"param.entryForm\">\n          填写进件单{{entryForm.length==0?\"：请选择进件单\":\"\"}}\n        </div>\n        <div style=\"border-radius: 5px;padding: 0px 0px;padding-top: 10px;padding-bottom: 10px;\">\n          <div class=\"div_table\">\n            <template v-for=\"entry in entryForm\">\n              <div class=\"div_header table_border\">\n                {{ entry.title }}\n              </div>\n              <template v-if=\"entry.value.length>0&&entry.value[0].constructor === Object\">\n                <div class=\"div_content\" style=\"flex-flow: row wrap;\">\n                  <template v-for=\"item in entry.value\">\n                  <div :style=\"(entry.value.length>=4?'width:24.8%':'flex:1')\">\n                    <div class=\"div_top\">\n                      <span class=\"div_item table_border\" style=\"height: 30px\">{{ item.title }}</span>\n                    </div>\n                    <div class=\"div_item table_border \">\n                    <span class=\"item\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" v-if=\"item.type==0\">\n                      {{runStr(item.val)}}\n                    </span>\n                      <el-input class=\"item\"  v-model=\"item.value\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==1\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==2\" placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <el-input-number class=\"item\" v-model=\"item.value\" :min=\"1\" style=\"width: 90%;\" :label=\"'请输入'+item.title\" v-if=\"item.type==3\"></el-input-number>\n                      <el-input class=\"item\"  v-model=\"item.value\" type=\"number\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==4\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==5\" multiple placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <!--                      <span v-if=\"item.type==0\">{{ item.value }}</span>-->\n                    </div>\n                  </div>\n                  </template>\n                </div>\n              </template>\n              <template v-if=\"entry.value.length>0&&entry.value[0].constructor === Array\" v-for=\"one in entry.value\">\n                <div class=\"div_top\">\n                  <span class=\"div_item table_border\" v-for=\"item in one\">{{ item.title }}</span>\n                </div>\n                <div class=\"div_content\">\n                  <template v-for=\"item in one\">\n                    <div class=\"div_item table_border \" v-if=\"item.type!=0\">\n                      <el-input class=\"item\"  v-model=\"item.value\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==1\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==2\" placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <el-input-number class=\"item\" v-model=\"item.value\" :min=\"1\" style=\"width: 90%;\" :label=\"'请输入'+item.title\" v-if=\"item.type==3\"></el-input-number>\n                      <el-input class=\"item\"  v-model=\"item.value\" type=\"number\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==4\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==5\" multiple placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <!--                      <span v-if=\"item.type==0\">{{ item.value }}</span>-->\n                    </div>\n                  </template>\n                </div>\n              </template>\n            </template>\n          </div>\n        </div>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"isShow = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirm\">保存进件单</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\n\n  import {headers} from \"../../util/auth\";\n  import {temps} from \"@/api/parameter/entryformtemplate\";\n  import {entryForm, update as orderUpdate} from \"../../api/order/order\";\n\n\n\n  export default {\n    name: 'dialog',\n    data () {\n      return {\n        param:null,\n        isShow:false,\n        name:null,\n        formList:null,\n        entryForm:[],\n      };\n    },\n    watch: {\n      isShow(val, oldVal) {\n        if (!val){\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }\n      }\n    },\n    mounted() {\n      console.log(this.param)\n      if (this.param.entryForm){\n        this.entryForm = JSON.parse(this.param.entryForm)\n      }\n    },\n    created () {\n      temps().then(res => {\n        this.formList = res.data.data;\n        console.log( this.formList )\n      });\n    },\n    activated () { },\n    methods: {\n      runStr(str){\n        return eval(\"(function(){return \"+str+\";})()\");\n      },\n      headers(){\n        return headers()\n      },\n      closeFn () {\n      },\n      changeForm(item){\n        this.entryForm = JSON.parse(item.content);\n      },\n      confirm(){\n        for (const para of this.entryForm) {\n          for (const item of para.value) {\n            if (item.type == 0){\n              item.value = this.runStr(item.val)\n            }\n          }\n        }\n        const  paras = {orderId:this.param.id,entryForm:JSON.stringify(this.entryForm)};\n        entryForm(paras).then(res => {\n          console.log(res.data.data)\n          this.$message(\"提交成功\")\n          this.isShow = false\n        });\n      },\n    },\n  };\n</script>\n<style scoped>\n\n  :deep .el-dialog__body::-webkit-scrollbar {\n    width: 4px; /*高宽分别对应横竖滚动条的尺寸*/\n    height: 0px;\n  }\n\n  :deep .el-dialog__body::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    -webkit-box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);\n    background: #aaaaaa;\n  }\n\n  :deep .el-dialog__body::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);\n    border-radius: 0;\n    background: rgba(0, 0, 0, 0.0);\n  }\n\n  .bottom{\n    padding-bottom: 0px !important;\n    margin-bottom: 0px !important;\n  }\n  :deep .avue-crud__menu {\n    display: none;\n  }\n  :deep .el-empty {\n    padding: 0px 0px !important;\n  }\n  :deep .avue-crud__empty {\n    padding: 0px 0px !important;\n  }\n  .div_table {\n    width: 100%;\n  }\n\n  .table_border{\n    border-right: 1px solid #E9E9E9;\n    border-bottom: 1px solid #E9E9E9;\n  }\n  .div_header {\n    background-color: #FAFAFA;\n    color: #108EE9;\n    padding: 10px 20px;\n    font-size: 14px;\n    font-weight: bold;\n    border-top: 1px solid #E9E9E9;\n    border-left: 1px solid #E9E9E9;\n  }\n  .div_top {\n    width: 100%;\n    background-color: #169BD533;\n    display: flex;\n    flex-direction: row\n  }\n  .div_top .div_item {\n    flex: 1;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    text-align: center;\n    font-size: 14px;\n  }\n\n  .div_content {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    border-left: 1px solid #E9E9E9;\n    text-align: center;\n  }\n\n  .div_content .div_item {\n    flex: 1;\n    text-align: center;\n    font-size: 14px;\n    height: 60px;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n  }\n\n  .item {\n    margin: 5px 10px;\n  }\n</style>\n"]}]}