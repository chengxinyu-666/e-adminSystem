{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\util\\auth.js","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\util\\auth.js","mtime":1673581194000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\babel.config.js","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\eslint-loader\\index.js","mtime":1678778406019}],"contextDependencies":[],"result":["import Cookies from 'js-cookie';\nimport website from \"../config/website\";\nvar TokenKey = 'x-access-token';\nvar inFifteenMinutes = new Date(new Date().getTime() + 2000) + \"\";\nexport function getToken() {\n  return Cookies.get(TokenKey);\n}\nexport function setToken(token) {\n  return Cookies.set(TokenKey, token, {\n    \"max-age\": inFifteenMinutes\n  });\n}\nexport function removeToken() {\n  return Cookies.remove(TokenKey);\n}\nexport function headers() {\n  var aut = \"Basic \".concat(Base64.encode(\"\".concat(website.clientId, \":\").concat(website.clientSecret)));\n  var headers = {\n    Authorization: aut\n  };\n  if (getToken()) {\n    headers['Blade-Auth'] = 'bearer ' + getToken(); // 让每个请求携带token--['Authorization']为自定义key 请根据实际情况自行修改\n  }\n\n  console.log(headers);\n  return headers;\n}",{"version":3,"names":["Cookies","website","TokenKey","inFifteenMinutes","Date","getTime","getToken","get","setToken","token","set","removeToken","remove","headers","aut","concat","Base64","encode","clientId","clientSecret","Authorization","console","log"],"sources":["D:/workCode/xiaoE/大圣系统源码/admin/src/util/auth.js"],"sourcesContent":["import Cookies from 'js-cookie'\nimport website from \"../config/website\";\nconst TokenKey = 'x-access-token'\nvar inFifteenMinutes = new Date(new Date().getTime() +  2000)+\"\";\nexport function getToken() {\n    return Cookies.get(TokenKey)\n}\n\nexport function setToken(token) {\n    return Cookies.set(TokenKey, token, { \"max-age\": inFifteenMinutes })\n}\n\nexport function removeToken() {\n    return Cookies.remove(TokenKey)\n}\n\nexport function headers(){\n  const aut = `Basic ${Base64.encode(`${website.clientId}:${website.clientSecret}`)}`;\n  var headers = {\n    Authorization:aut,\n  };\n  if (getToken()) {\n    headers['Blade-Auth'] =  'bearer ' + getToken()// 让每个请求携带token--['Authorization']为自定义key 请根据实际情况自行修改\n  }\n  console.log(headers)\n  return headers\n}\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;AAC/B,OAAOC,OAAO;AACd,IAAMC,QAAQ,GAAG,gBAAgB;AACjC,IAAIC,gBAAgB,GAAG,IAAIC,IAAI,CAAC,IAAIA,IAAI,EAAE,CAACC,OAAO,EAAE,GAAI,IAAI,CAAC,GAAC,EAAE;AAChE,OAAO,SAASC,QAAQA,CAAA,EAAG;EACvB,OAAON,OAAO,CAACO,GAAG,CAACL,QAAQ,CAAC;AAChC;AAEA,OAAO,SAASM,QAAQA,CAACC,KAAK,EAAE;EAC5B,OAAOT,OAAO,CAACU,GAAG,CAACR,QAAQ,EAAEO,KAAK,EAAE;IAAE,SAAS,EAAEN;EAAiB,CAAC,CAAC;AACxE;AAEA,OAAO,SAASQ,WAAWA,CAAA,EAAG;EAC1B,OAAOX,OAAO,CAACY,MAAM,CAACV,QAAQ,CAAC;AACnC;AAEA,OAAO,SAASW,OAAOA,CAAA,EAAE;EACvB,IAAMC,GAAG,YAAAC,MAAA,CAAYC,MAAM,CAACC,MAAM,IAAAF,MAAA,CAAId,OAAO,CAACiB,QAAQ,OAAAH,MAAA,CAAId,OAAO,CAACkB,YAAY,EAAG,CAAE;EACnF,IAAIN,OAAO,GAAG;IACZO,aAAa,EAACN;EAChB,CAAC;EACD,IAAIR,QAAQ,EAAE,EAAE;IACdO,OAAO,CAAC,YAAY,CAAC,GAAI,SAAS,GAAGP,QAAQ,EAAE;EACjD;;EACAe,OAAO,CAACC,GAAG,CAACT,OAAO,CAAC;EACpB,OAAOA,OAAO;AAChB"}]}