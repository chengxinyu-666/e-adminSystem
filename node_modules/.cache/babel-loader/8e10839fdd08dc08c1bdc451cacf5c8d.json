{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\views\\user\\info.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\views\\user\\info.vue","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\babel.config.js","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport option from \"@/const/user/info\";\nimport { getUserInfo, update, updatePassword } from \"@/api/system/user\";\nimport func from \"@/util/func\";\nexport default {\n  data: function data() {\n    return {\n      index: 0,\n      option: option,\n      form: {}\n    };\n  },\n  created: function created() {\n    this.handleWitch();\n  },\n  methods: {\n    handleSubmit: function handleSubmit(form, done) {\n      var _this = this;\n      if (this.index === 0) {\n        update(form).then(function (res) {\n          if (res.data.success) {\n            _this.$message({\n              type: \"success\",\n              message: \"修改信息成功!\"\n            });\n          } else {\n            _this.$message({\n              type: \"error\",\n              message: res.data.msg\n            });\n          }\n          done();\n        }, function (error) {\n          window.console.log(error);\n          done();\n        });\n      } else {\n        updatePassword(form.oldPassword, form.newPassword, form.newPassword1).then(function (res) {\n          if (res.data.success) {\n            _this.$message({\n              type: \"success\",\n              message: \"修改密码成功!\"\n            });\n          } else {\n            _this.$message({\n              type: \"error\",\n              message: res.data.msg\n            });\n          }\n          done();\n        }, function (error) {\n          window.console.log(error);\n          done();\n        });\n      }\n    },\n    handleWitch: function handleWitch() {\n      var _this2 = this;\n      if (this.index === 0) {\n        getUserInfo().then(function (res) {\n          var user = res.data.data;\n          _this2.form = {\n            id: user.id,\n            avatar: user.avatar,\n            name: user.name,\n            realName: user.realName,\n            phone: user.phone,\n            email: user.email\n          };\n        });\n      }\n    },\n    handleTabClick: function handleTabClick(tabs) {\n      this.index = func.toInt(tabs.index);\n      this.handleWitch();\n    }\n  }\n};",{"version":3,"names":["option","getUserInfo","update","updatePassword","func","data","index","form","created","handleWitch","methods","handleSubmit","done","_this","then","res","success","$message","type","message","msg","error","window","console","log","oldPassword","newPassword","newPassword1","_this2","user","id","avatar","name","realName","phone","email","handleTabClick","tabs","toInt"],"sources":["src/views/user/info.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <basic-container>\r\n      <avue-form :option=\"option\"\r\n                 v-model=\"form\"\r\n                 @tab-click=\"handleTabClick\"\r\n                 @submit=\"handleSubmit\"></avue-form>\r\n    </basic-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport option from \"@/const/user/info\";\r\nimport {getUserInfo, update, updatePassword} from \"@/api/system/user\";\r\nimport func from \"@/util/func\";\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      index: 0,\r\n      option: option,\r\n      form: {}\r\n    };\r\n  },\r\n  created() {\r\n    this.handleWitch();\r\n  },\r\n  methods: {\r\n    handleSubmit(form, done) {\r\n      if (this.index === 0) {\r\n        update(form).then(res => {\r\n          if (res.data.success) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"修改信息成功!\"\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.data.msg\r\n            });\r\n          }\r\n          done();\r\n        }, error => {\r\n          window.console.log(error);\r\n          done();\r\n        })\r\n      } else {\r\n        updatePassword(form.oldPassword, form.newPassword, form.newPassword1).then(res => {\r\n          if (res.data.success) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"修改密码成功!\"\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.data.msg\r\n            });\r\n          }\r\n          done();\r\n        }, error => {\r\n          window.console.log(error);\r\n          done();\r\n        })\r\n      }\r\n    },\r\n    handleWitch() {\r\n      if (this.index === 0) {\r\n        getUserInfo().then(res => {\r\n          const user = res.data.data;\r\n          this.form = {\r\n            id: user.id,\r\n            avatar: user.avatar,\r\n            name: user.name,\r\n            realName: user.realName,\r\n            phone: user.phone,\r\n            email: user.email,\r\n          }\r\n        });\r\n      }\r\n    },\r\n    handleTabClick(tabs) {\r\n      this.index = func.toInt(tabs.index);\r\n      this.handleWitch();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"mappings":";AAYA,OAAAA,MAAA;AACA,SAAAC,WAAA,EAAAC,MAAA,EAAAC,cAAA;AACA,OAAAC,IAAA;AAGA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MACAN,MAAA,EAAAA,MAAA;MACAO,IAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAC,YAAA,WAAAA,aAAAJ,IAAA,EAAAK,IAAA;MAAA,IAAAC,KAAA;MACA,SAAAP,KAAA;QACAJ,MAAA,CAAAK,IAAA,EAAAO,IAAA,WAAAC,GAAA;UACA,IAAAA,GAAA,CAAAV,IAAA,CAAAW,OAAA;YACAH,KAAA,CAAAI,QAAA;cACAC,IAAA;cACAC,OAAA;YACA;UACA;YACAN,KAAA,CAAAI,QAAA;cACAC,IAAA;cACAC,OAAA,EAAAJ,GAAA,CAAAV,IAAA,CAAAe;YACA;UACA;UACAR,IAAA;QACA,aAAAS,KAAA;UACAC,MAAA,CAAAC,OAAA,CAAAC,GAAA,CAAAH,KAAA;UACAT,IAAA;QACA;MACA;QACAT,cAAA,CAAAI,IAAA,CAAAkB,WAAA,EAAAlB,IAAA,CAAAmB,WAAA,EAAAnB,IAAA,CAAAoB,YAAA,EAAAb,IAAA,WAAAC,GAAA;UACA,IAAAA,GAAA,CAAAV,IAAA,CAAAW,OAAA;YACAH,KAAA,CAAAI,QAAA;cACAC,IAAA;cACAC,OAAA;YACA;UACA;YACAN,KAAA,CAAAI,QAAA;cACAC,IAAA;cACAC,OAAA,EAAAJ,GAAA,CAAAV,IAAA,CAAAe;YACA;UACA;UACAR,IAAA;QACA,aAAAS,KAAA;UACAC,MAAA,CAAAC,OAAA,CAAAC,GAAA,CAAAH,KAAA;UACAT,IAAA;QACA;MACA;IACA;IACAH,WAAA,WAAAA,YAAA;MAAA,IAAAmB,MAAA;MACA,SAAAtB,KAAA;QACAL,WAAA,GAAAa,IAAA,WAAAC,GAAA;UACA,IAAAc,IAAA,GAAAd,GAAA,CAAAV,IAAA,CAAAA,IAAA;UACAuB,MAAA,CAAArB,IAAA;YACAuB,EAAA,EAAAD,IAAA,CAAAC,EAAA;YACAC,MAAA,EAAAF,IAAA,CAAAE,MAAA;YACAC,IAAA,EAAAH,IAAA,CAAAG,IAAA;YACAC,QAAA,EAAAJ,IAAA,CAAAI,QAAA;YACAC,KAAA,EAAAL,IAAA,CAAAK,KAAA;YACAC,KAAA,EAAAN,IAAA,CAAAM;UACA;QACA;MACA;IACA;IACAC,cAAA,WAAAA,eAAAC,IAAA;MACA,KAAA/B,KAAA,GAAAF,IAAA,CAAAkC,KAAA,CAAAD,IAAA,CAAA/B,KAAA;MACA,KAAAG,WAAA;IACA;EACA;AACA"}]}