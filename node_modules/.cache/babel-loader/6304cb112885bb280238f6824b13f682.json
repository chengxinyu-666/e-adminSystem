{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\views\\account\\accountuser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\views\\account\\accountuser.vue","mtime":1678945140935},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\babel.config.js","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport { getList, getUser } from \"@/api/system/user\";\nimport { getDeptTree } from \"@/api/system/dept\";\nimport { getRoleTree } from \"@/api/system/role\";\nimport { getPostList } from \"@/api/system/post\";\nimport website from '@/config/website';\nexport default {\n  data: function data() {\n    return {\n      form: {},\n      search: {},\n      loading: true,\n      // selectionList: [],\n      query: {},\n      page: {\n        pageSize: 10,\n        currentPage: 1,\n        total: 0\n      },\n      init: {\n        roleTree: [],\n        deptTree: []\n      },\n      props: {\n        label: \"title\",\n        value: \"key\"\n      },\n      roleGrantList: [],\n      roleTreeObj: [],\n      option: {\n        height: 'auto',\n        calcHeight: 210,\n        searchShow: true,\n        searchMenuSpan: 6,\n        tip: false,\n        border: true,\n        index: true,\n        selection: false,\n        viewBtn: true,\n        addBtn: false,\n        menu: false,\n        column: [{\n          label: \"登录账号\",\n          prop: \"account\",\n          search: true,\n          rules: [{\n            required: true,\n            message: \"请输入登录账号\",\n            trigger: \"blur\"\n          }],\n          span: website.tenantMode ? 12 : 24\n        }, {\n          label: \"用户昵称\",\n          prop: \"name\",\n          rules: [{\n            required: true,\n            message: \"请输入用户昵称\",\n            trigger: \"blur\"\n          }]\n        }, {\n          label: \"ID\",\n          prop: \"code\",\n          hide: true\n        }, {\n          label: \"日期\",\n          prop: \"date\",\n          hide: true\n        }, {\n          label: \"费用明细\",\n          prop: \"expense\"\n        }, {\n          label: \"费用类型\",\n          prop: \"expenseType\"\n        }, {\n          label: \"关联订单号\",\n          prop: \"orderNumber\"\n        }, {\n          label: \"客户姓名\",\n          prop: \"CustomerName\"\n        }, {\n          label: \"关联商品\",\n          prop: \"aboutShop\"\n        }]\n      },\n      data: []\n    };\n  },\n  methods: {\n    rechargeFun: function rechargeFun() {\n      console.log(111);\n      this.$router.push();\n      //跳到充值页面\n    },\n    searchReset: function searchReset() {\n      this.query = {};\n      this.onLoad(this.page);\n    },\n    searchChange: function searchChange(params, done) {\n      this.query = params;\n      this.page.currentPage = 1;\n      this.onLoad(this.page, params);\n      done();\n    },\n    beforeOpen: function beforeOpen(done, type) {\n      var _this = this;\n      if ([\"edit\", \"view\"].includes(type)) {\n        getUser(this.form.id).then(function (res) {\n          _this.form = res.data.data;\n          if (_this.form.hasOwnProperty(\"deptId\")) {\n            _this.form.deptId = _this.form.deptId.split(\",\");\n          }\n          if (_this.form.hasOwnProperty(\"roleId\")) {\n            _this.form.roleId = _this.form.roleId.split(\",\");\n          }\n          if (_this.form.hasOwnProperty(\"postId\")) {\n            _this.form.postId = _this.form.postId.split(\",\");\n          }\n        });\n      }\n      done();\n    },\n    currentChange: function currentChange(currentPage) {\n      this.page.currentPage = currentPage;\n    },\n    sizeChange: function sizeChange(pageSize) {\n      this.page.pageSize = pageSize;\n    },\n    refreshChange: function refreshChange() {\n      this.onLoad(this.page, this.query);\n    },\n    onLoad: function onLoad(page) {\n      var _this2 = this;\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.loading = true;\n      getList(page.currentPage, page.pageSize, Object.assign(params, this.query)).then(function (res) {\n        var data = res.data.data;\n        _this2.page.total = data.total;\n        _this2.data = data.records;\n        _this2.loading = false;\n      });\n      getDeptTree(this.form.tenantId).then(function (res) {\n        var column = _this2.findObject(_this2.option.column, \"deptId\");\n        column.dicData = res.data.data;\n        if (column != -1) {\n          _this2.$Log.primary(JSON.stringify(column));\n          column.dicData = res.data.data;\n        }\n      });\n      getRoleTree(this.form.tenantId).then(function (res) {\n        var column = _this2.findObject(_this2.option.column, \"roleId\");\n        column.dicData = res.data.data;\n        if (column != -1) {\n          _this2.$Log.primary(JSON.stringify(column));\n          column.dicData = res.data.data;\n        }\n      });\n      getPostList(this.form.tenantId).then(function (res) {\n        var column = _this2.findObject(_this2.option.column, \"postId\");\n        if (column != -1) {\n          _this2.$Log.primary(JSON.stringify(column));\n          column.dicData = res.data.data;\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["getList","getUser","getDeptTree","getRoleTree","getPostList","website","data","form","search","loading","query","page","pageSize","currentPage","total","init","roleTree","deptTree","props","label","value","roleGrantList","roleTreeObj","option","height","calcHeight","searchShow","searchMenuSpan","tip","border","index","selection","viewBtn","addBtn","menu","column","prop","rules","required","message","trigger","span","tenantMode","hide","methods","rechargeFun","console","log","$router","push","searchReset","onLoad","searchChange","params","done","beforeOpen","type","_this","includes","id","then","res","hasOwnProperty","deptId","split","roleId","postId","currentChange","sizeChange","refreshChange","_this2","arguments","length","undefined","Object","assign","records","tenantId","findObject","dicData","$Log","primary","JSON","stringify"],"sources":["src/views/account/accountuser.vue"],"sourcesContent":["<template>\r\n  \r\n\r\n    <basic-container>\r\n      <div>用户看的页面</div>\r\n      <avue-crud :option=\"option\"\r\n                 :table-loading=\"loading\"\r\n                 :data=\"data\"\r\n                 ref=\"crud\"\r\n                 v-model=\"form\"\r\n                 :permission=\"permissionList\"\r\n                 :search.sync=\"search\" \r\n                \r\n                 :before-open=\"beforeOpen\"\r\n                 :page=\"page\"\r\n                 @search-change=\"searchChange\"\r\n                 @search-reset=\"searchReset\"\r\n                 @selection-change=\"selectionChange\"\r\n                 @current-change=\"currentChange\"\r\n                 @size-change=\"sizeChange\"\r\n                 @refresh-change=\"refreshChange\"\r\n                 @on-load=\"onLoad\">\r\n                 <template slot-scope=\"scope\" slot=\"menuLeft\">\r\n    <el-button type=\"primary\" \r\n      size=\"small\"\r\n      @click=\"rechargeFun()\">充值</el-button>\r\n  </template>\r\n      </avue-crud>\r\n\r\n    </basic-container>\r\n  </template>\r\n  \r\n  <script>\r\n    import {\r\n      getList,\r\n      getUser,  \r\n    } from \"@/api/system/user\";\r\n    import {getDeptTree} from \"@/api/system/dept\";\r\n    import {getRoleTree} from \"@/api/system/role\";\r\n    import {getPostList} from \"@/api/system/post\";\r\n \r\n    import website from '@/config/website'; \r\n  \r\n    export default {\r\n      data() {\r\n       \r\n       \r\n        return {\r\n          form: {},\r\n          search:{},  \r\n          loading: true,\r\n          // selectionList: [],\r\n          query: {},\r\n          page: {\r\n            pageSize: 10,\r\n            currentPage: 1,\r\n            total: 0\r\n          },\r\n          init: {\r\n            roleTree: [],\r\n            deptTree: [],\r\n          },\r\n          props: {\r\n            label: \"title\",\r\n            value: \"key\"\r\n          },\r\n          roleGrantList: [],\r\n          roleTreeObj: [],\r\n          option: {\r\n            height: 'auto',\r\n            calcHeight: 210,\r\n            searchShow: true,\r\n            searchMenuSpan: 6,\r\n            tip: false,\r\n            border: true,\r\n            index: true,\r\n            selection: false,\r\n            viewBtn: true,\r\n            addBtn:false,\r\n            menu:false,\r\n            column: [\r\n              {\r\n                label: \"登录账号\",\r\n                prop: \"account\",\r\n                search: true,\r\n                rules: [{\r\n                  required: true,\r\n                  message: \"请输入登录账号\",\r\n                  trigger: \"blur\"\r\n                }],\r\n                span: website.tenantMode ? 12 : 24,\r\n              },\r\n              \r\n           \r\n              {\r\n                label: \"用户昵称\",\r\n                prop: \"name\",\r\n                rules: [{\r\n                  required: true,\r\n                  message: \"请输入用户昵称\",\r\n                  trigger: \"blur\"\r\n                }]\r\n              }, \r\n              \r\n             \r\n              {\r\n                label: \"ID\",\r\n                prop: \"code\",\r\n                hide: true,\r\n              },\r\n       \r\n             \r\n              {\r\n                label: \"日期\",\r\n                prop: \"date\",\r\n                hide: true,\r\n              },\r\n       \r\n              {\r\n                label: \"费用明细\",\r\n                prop: \"expense\", \r\n              },\r\n              {\r\n                label: \"费用类型\",\r\n                prop: \"expenseType\", \r\n              },\r\n              {\r\n                label: \"关联订单号\",\r\n                prop: \"orderNumber\", \r\n              },\r\n             \r\n              {\r\n                label: \"客户姓名\",\r\n                prop: \"CustomerName\",  \r\n              },\r\n              {\r\n                label: \"关联商品\",\r\n                prop: \"aboutShop\",  \r\n              }\r\n            ]\r\n          },\r\n          data: [], \r\n       \r\n        };\r\n      },\r\n  \r\n      methods: {\r\n       \r\n        rechargeFun(){\r\n          console.log(111);\r\n          this.$router.push()\r\n          //跳到充值页面\r\n        },\r\n        searchReset() {\r\n          this.query = {};\r\n          this.onLoad(this.page);\r\n        },\r\n        searchChange(params, done) {\r\n          this.query = params;\r\n          this.page.currentPage = 1;\r\n          this.onLoad(this.page, params);\r\n          done();\r\n        },\r\n        \r\n       \r\n        beforeOpen(done, type) {\r\n          if ([\"edit\", \"view\"].includes(type)) {\r\n            getUser(this.form.id).then(res => {\r\n              this.form = res.data.data;\r\n              if(this.form.hasOwnProperty(\"deptId\")){\r\n                this.form.deptId = this.form.deptId.split(\",\");\r\n              }\r\n              if(this.form.hasOwnProperty(\"roleId\")){\r\n                this.form.roleId = this.form.roleId.split(\",\");\r\n              }\r\n              if(this.form.hasOwnProperty(\"postId\")){\r\n                this.form.postId = this.form.postId.split(\",\");\r\n              }\r\n            });\r\n          }\r\n          done();\r\n        },\r\n        currentChange(currentPage) {\r\n          this.page.currentPage = currentPage;\r\n        },\r\n        sizeChange(pageSize) {\r\n          this.page.pageSize = pageSize;\r\n        },\r\n        refreshChange() {\r\n          this.onLoad(this.page, this.query);\r\n        },\r\n        onLoad(page, params = {}) {\r\n          this.loading = true;\r\n          getList(page.currentPage, page.pageSize, Object.assign(params, this.query)).then(res => {\r\n            const data = res.data.data;\r\n            this.page.total = data.total;\r\n            this.data = data.records;\r\n            this.loading = false;\r\n          });\r\n          getDeptTree(this.form.tenantId).then(res => {\r\n            const column = this.findObject(this.option.column, \"deptId\");\r\n            column.dicData = res.data.data;\r\n            if (column!=-1){\r\n              this.$Log.primary(JSON.stringify(column))\r\n              column.dicData = res.data.data;\r\n            }\r\n          });\r\n          getRoleTree(this.form.tenantId).then(res => {\r\n            const column = this.findObject(this.option.column, \"roleId\");\r\n            column.dicData = res.data.data;\r\n            if (column!=-1){\r\n              this.$Log.primary(JSON.stringify(column))\r\n              column.dicData = res.data.data;\r\n            }\r\n          });\r\n          getPostList(this.form.tenantId).then(res => {\r\n            const column = this.findObject(this.option.column, \"postId\");\r\n            if (column!=-1){\r\n              this.$Log.primary(JSON.stringify(column))\r\n              column.dicData = res.data.data;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    };\r\n  </script>\r\n  \r\n  <style>\r\n  </style>\r\n  "],"mappings":"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"}]}