{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_entry_form.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_entry_form.vue","mtime":1678632082000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\babel.config.js","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { headers as _headers } from \"../../util/auth\";\nimport { temps } from \"@/api/parameter/entryformtemplate\";\nimport { entryForm, update as orderUpdate } from \"../../api/order/order\";\nexport default {\n  name: 'dialog',\n  data: function data() {\n    return {\n      param: null,\n      isShow: false,\n      name: null,\n      formList: null,\n      entryForm: []\n    };\n  },\n  watch: {\n    isShow: function isShow(val, oldVal) {\n      var _this = this;\n      if (!val) {\n        this.$nextTick(function () {\n          _this.end(true);\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    console.log(this.param);\n    if (this.param.entryForm) {\n      this.entryForm = JSON.parse(this.param.entryForm);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n    temps().then(function (res) {\n      _this2.formList = res.data.data;\n      console.log(_this2.formList);\n    });\n  },\n  activated: function activated() {},\n  methods: {\n    runStr: function runStr(str) {\n      return eval(\"(function(){return \" + str + \";})()\");\n    },\n    headers: function headers() {\n      return _headers();\n    },\n    closeFn: function closeFn() {},\n    changeForm: function changeForm(item) {\n      this.entryForm = JSON.parse(item.content);\n    },\n    confirm: function confirm() {\n      var _this3 = this;\n      var _iterator = _createForOfIteratorHelper(this.entryForm),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var para = _step.value;\n          var _iterator2 = _createForOfIteratorHelper(para.value),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var item = _step2.value;\n              if (item.type == 0) {\n                item.value = this.runStr(item.val);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var paras = {\n        orderId: this.param.id,\n        entryForm: JSON.stringify(this.entryForm)\n      };\n      entryForm(paras).then(function (res) {\n        console.log(res.data.data);\n        _this3.$message(\"提交成功\");\n        _this3.isShow = false;\n      });\n    }\n  }\n};",{"version":3,"names":["headers","temps","entryForm","update","orderUpdate","name","data","param","isShow","formList","watch","val","oldVal","_this","$nextTick","end","mounted","console","log","JSON","parse","created","_this2","then","res","activated","methods","runStr","str","eval","closeFn","changeForm","item","content","confirm","_this3","_iterator","_createForOfIteratorHelper","_step","s","n","done","para","value","_iterator2","_step2","type","err","e","f","paras","orderId","id","stringify","$message"],"sources":["src/components/order/dialog_entry_form.vue"],"sourcesContent":["<!--\n 订单修改\n -->\n<template>\n  <div>\n    <el-dialog\n      v-if=\"isShow\"\n      title=\"进件单\"\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"isShow\"\n      width=\"900px\"\n      @close=\"closeFn\"\n      append-to-body\n      style=\"text-align: left\">\n      <el-form ref=\"form1\" label-width=\"120px\" size=\"small\">\n        <div>\n          选择进件单模板\n          <el-select v-model=\"name\" placeholder=\"请选择进件单模板\" style=\"margin-left: 10px\">\n              <el-option :label=\"item.title\" v-for=\"item in this.formList\"\n                     @click.native=\"changeForm(item)\"\n                     :value=\"item.title\"></el-option>\n          </el-select>\n        </div>\n        <div style=\"margin-top: 10px\">\n          <el-alert\n            title=\"选择进件单会覆盖当前进件单，请注意谨慎选择\"\n            type=\"error\">\n          </el-alert>\n        </div>\n        <div style=\"margin-top: 10px\" v-if=\"param.entryForm\">\n          填写进件单{{entryForm.length==0?\"：请选择进件单\":\"\"}}\n        </div>\n        <div style=\"border-radius: 5px;padding: 0px 0px;padding-top: 10px;padding-bottom: 10px;\">\n          <div class=\"div_table\">\n            <template v-for=\"entry in entryForm\">\n              <div class=\"div_header table_border\">\n                {{ entry.title }}\n              </div>\n              <template v-if=\"entry.value.length>0&&entry.value[0].constructor === Object\">\n                <div class=\"div_content\" style=\"flex-flow: row wrap;\">\n                  <template v-for=\"item in entry.value\">\n                  <div :style=\"(entry.value.length>=4?'width:24.8%':'flex:1')\">\n                    <div class=\"div_top\">\n                      <span class=\"div_item table_border\" style=\"height: 30px\">{{ item.title }}</span>\n                    </div>\n                    <div class=\"div_item table_border \">\n                    <span class=\"item\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" v-if=\"item.type==0\">\n                      {{runStr(item.val)}}\n                    </span>\n                      <el-input class=\"item\"  v-model=\"item.value\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==1\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==2\" placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <el-input-number class=\"item\" v-model=\"item.value\" :min=\"1\" style=\"width: 90%;\" :label=\"'请输入'+item.title\" v-if=\"item.type==3\"></el-input-number>\n                      <el-input class=\"item\"  v-model=\"item.value\" type=\"number\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==4\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==5\" multiple placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <!--                      <span v-if=\"item.type==0\">{{ item.value }}</span>-->\n                    </div>\n                  </div>\n                  </template>\n                </div>\n              </template>\n              <template v-if=\"entry.value.length>0&&entry.value[0].constructor === Array\" v-for=\"one in entry.value\">\n                <div class=\"div_top\">\n                  <span class=\"div_item table_border\" v-for=\"item in one\">{{ item.title }}</span>\n                </div>\n                <div class=\"div_content\">\n                  <template v-for=\"item in one\">\n                    <div class=\"div_item table_border \" v-if=\"item.type!=0\">\n                      <el-input class=\"item\"  v-model=\"item.value\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==1\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==2\" placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <el-input-number class=\"item\" v-model=\"item.value\" :min=\"1\" style=\"width: 90%;\" :label=\"'请输入'+item.title\" v-if=\"item.type==3\"></el-input-number>\n                      <el-input class=\"item\"  v-model=\"item.value\" type=\"number\" style=\"width: 90%;margin-top: 5px;margin-bottom: 5px\" :placeholder=\"'请输入'+item.title\" v-if=\"item.type==4\"></el-input>\n                      <el-select class=\"item\" v-model=\"item.value\" style=\"width: 90%;\" v-if=\"item.type==5\" multiple placeholder=\"请选择\">\n                        <el-option\n                          v-for=\"item in item.option\"\n                          :key=\"item\"\n                          :label=\"item\"\n                          :value=\"item\">\n                        </el-option>\n                      </el-select>\n                      <!--                      <span v-if=\"item.type==0\">{{ item.value }}</span>-->\n                    </div>\n                  </template>\n                </div>\n              </template>\n            </template>\n          </div>\n        </div>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"isShow = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirm\">保存进件单</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\n\n  import {headers} from \"../../util/auth\";\n  import {temps} from \"@/api/parameter/entryformtemplate\";\n  import {entryForm, update as orderUpdate} from \"../../api/order/order\";\n\n\n\n  export default {\n    name: 'dialog',\n    data () {\n      return {\n        param:null,\n        isShow:false,\n        name:null,\n        formList:null,\n        entryForm:[],\n      };\n    },\n    watch: {\n      isShow(val, oldVal) {\n        if (!val){\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }\n      }\n    },\n    mounted() {\n      console.log(this.param)\n      if (this.param.entryForm){\n        this.entryForm = JSON.parse(this.param.entryForm)\n      }\n    },\n    created () {\n      temps().then(res => {\n        this.formList = res.data.data;\n        console.log( this.formList )\n      });\n    },\n    activated () { },\n    methods: {\n      runStr(str){\n        return eval(\"(function(){return \"+str+\";})()\");\n      },\n      headers(){\n        return headers()\n      },\n      closeFn () {\n      },\n      changeForm(item){\n        this.entryForm = JSON.parse(item.content);\n      },\n      confirm(){\n        for (const para of this.entryForm) {\n          for (const item of para.value) {\n            if (item.type == 0){\n              item.value = this.runStr(item.val)\n            }\n          }\n        }\n        const  paras = {orderId:this.param.id,entryForm:JSON.stringify(this.entryForm)};\n        entryForm(paras).then(res => {\n          console.log(res.data.data)\n          this.$message(\"提交成功\")\n          this.isShow = false\n        });\n      },\n    },\n  };\n</script>\n<style scoped>\n\n  :deep .el-dialog__body::-webkit-scrollbar {\n    width: 4px; /*高宽分别对应横竖滚动条的尺寸*/\n    height: 0px;\n  }\n\n  :deep .el-dialog__body::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    -webkit-box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);\n    background: #aaaaaa;\n  }\n\n  :deep .el-dialog__body::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);\n    border-radius: 0;\n    background: rgba(0, 0, 0, 0.0);\n  }\n\n  .bottom{\n    padding-bottom: 0px !important;\n    margin-bottom: 0px !important;\n  }\n  :deep .avue-crud__menu {\n    display: none;\n  }\n  :deep .el-empty {\n    padding: 0px 0px !important;\n  }\n  :deep .avue-crud__empty {\n    padding: 0px 0px !important;\n  }\n  .div_table {\n    width: 100%;\n  }\n\n  .table_border{\n    border-right: 1px solid #E9E9E9;\n    border-bottom: 1px solid #E9E9E9;\n  }\n  .div_header {\n    background-color: #FAFAFA;\n    color: #108EE9;\n    padding: 10px 20px;\n    font-size: 14px;\n    font-weight: bold;\n    border-top: 1px solid #E9E9E9;\n    border-left: 1px solid #E9E9E9;\n  }\n  .div_top {\n    width: 100%;\n    background-color: #169BD533;\n    display: flex;\n    flex-direction: row\n  }\n  .div_top .div_item {\n    flex: 1;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    text-align: center;\n    font-size: 14px;\n  }\n\n  .div_content {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    border-left: 1px solid #E9E9E9;\n    text-align: center;\n  }\n\n  .div_content .div_item {\n    flex: 1;\n    text-align: center;\n    font-size: 14px;\n    height: 60px;\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n  }\n\n  .item {\n    margin: 5px 10px;\n  }\n</style>\n"],"mappings":";;;;;;;;;AAsHA,SAAAA,OAAA,IAAAA,QAAA;AACA,SAAAC,KAAA;AACA,SAAAC,SAAA,EAAAC,MAAA,IAAAC,WAAA;AAIA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MACAC,MAAA;MACAH,IAAA;MACAI,QAAA;MACAP,SAAA;IACA;EACA;EACAQ,KAAA;IACAF,MAAA,WAAAA,OAAAG,GAAA,EAAAC,MAAA;MAAA,IAAAC,KAAA;MACA,KAAAF,GAAA;QACA,KAAAG,SAAA;UACAD,KAAA,CAAAE,GAAA;QACA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACAC,OAAA,CAAAC,GAAA,MAAAX,KAAA;IACA,SAAAA,KAAA,CAAAL,SAAA;MACA,KAAAA,SAAA,GAAAiB,IAAA,CAAAC,KAAA,MAAAb,KAAA,CAAAL,SAAA;IACA;EACA;EACAmB,OAAA,WAAAA,QAAA;IAAA,IAAAC,MAAA;IACArB,KAAA,GAAAsB,IAAA,WAAAC,GAAA;MACAF,MAAA,CAAAb,QAAA,GAAAe,GAAA,CAAAlB,IAAA,CAAAA,IAAA;MACAW,OAAA,CAAAC,GAAA,CAAAI,MAAA,CAAAb,QAAA;IACA;EACA;EACAgB,SAAA,WAAAA,UAAA;EACAC,OAAA;IACAC,MAAA,WAAAA,OAAAC,GAAA;MACA,OAAAC,IAAA,yBAAAD,GAAA;IACA;IACA5B,OAAA,WAAAA,QAAA;MACA,OAAAA,QAAA;IACA;IACA8B,OAAA,WAAAA,QAAA,GACA;IACAC,UAAA,WAAAA,WAAAC,IAAA;MACA,KAAA9B,SAAA,GAAAiB,IAAA,CAAAC,KAAA,CAAAY,IAAA,CAAAC,OAAA;IACA;IACAC,OAAA,WAAAA,QAAA;MAAA,IAAAC,MAAA;MAAA,IAAAC,SAAA,GAAAC,0BAAA,CACA,KAAAnC,SAAA;QAAAoC,KAAA;MAAA;QAAA,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA;UAAA,IAAAC,IAAA,GAAAJ,KAAA,CAAAK,KAAA;UAAA,IAAAC,UAAA,GAAAP,0BAAA,CACAK,IAAA,CAAAC,KAAA;YAAAE,MAAA;UAAA;YAAA,KAAAD,UAAA,CAAAL,CAAA,MAAAM,MAAA,GAAAD,UAAA,CAAAJ,CAAA,IAAAC,IAAA;cAAA,IAAAT,IAAA,GAAAa,MAAA,CAAAF,KAAA;cACA,IAAAX,IAAA,CAAAc,IAAA;gBACAd,IAAA,CAAAW,KAAA,QAAAhB,MAAA,CAAAK,IAAA,CAAArB,GAAA;cACA;YACA;UAAA,SAAAoC,GAAA;YAAAH,UAAA,CAAAI,CAAA,CAAAD,GAAA;UAAA;YAAAH,UAAA,CAAAK,CAAA;UAAA;QACA;MAAA,SAAAF,GAAA;QAAAX,SAAA,CAAAY,CAAA,CAAAD,GAAA;MAAA;QAAAX,SAAA,CAAAa,CAAA;MAAA;MACA,IAAAC,KAAA;QAAAC,OAAA,OAAA5C,KAAA,CAAA6C,EAAA;QAAAlD,SAAA,EAAAiB,IAAA,CAAAkC,SAAA,MAAAnD,SAAA;MAAA;MACAA,SAAA,CAAAgD,KAAA,EAAA3B,IAAA,WAAAC,GAAA;QACAP,OAAA,CAAAC,GAAA,CAAAM,GAAA,CAAAlB,IAAA,CAAAA,IAAA;QACA6B,MAAA,CAAAmB,QAAA;QACAnB,MAAA,CAAA3B,MAAA;MACA;IACA;EACA;AACA"}]}