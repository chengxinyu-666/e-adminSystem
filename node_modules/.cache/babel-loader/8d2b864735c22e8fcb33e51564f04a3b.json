{"remainingRequest":"D:\\转化仓库\\e-adminSystem\\node_modules\\babel-loader\\lib\\index.js!D:\\转化仓库\\e-adminSystem\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\转化仓库\\e-adminSystem\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\转化仓库\\e-adminSystem\\src\\store\\modules\\user.js","mtime":1679368696531},{"path":"D:\\转化仓库\\e-adminSystem\\babel.config.js","mtime":1679368691947},{"path":"D:\\转化仓库\\e-adminSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\转化仓库\\e-adminSystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\转化仓库\\e-adminSystem\\node_modules\\eslint-loader\\index.js","mtime":1678778406019}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _typeof from \"D:/\\u8F6C\\u5316\\u4ED3\\u5E93/e-adminSystem/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { setToken, removeToken } from '@/util/auth';\nimport { setStore, getStore } from '@/util/store';\nimport { isURL, validatenull } from '@/util/validate';\nimport { deepClone } from '@/util/util';\nimport webiste from '@/config/website';\nimport { Message } from 'element-ui';\nimport { loginByUsername, loginBySocial, getUserInfo, getMenu, getTopMenu, logout, refreshToken, getButtons } from '@/api/user';\nfunction addPath(ele, first) {\n  var menu = webiste.menu;\n  var propsConfig = menu.props;\n  var propsDefault = {\n    label: propsConfig.label || 'name',\n    path: propsConfig.path || 'path',\n    icon: propsConfig.icon || 'icon',\n    children: propsConfig.children || 'children'\n  };\n  var icon = ele[propsDefault.icon];\n  ele[propsDefault.icon] = validatenull(icon) ? menu.iconDefault : icon;\n  var isChild = ele[propsDefault.children] && ele[propsDefault.children].length !== 0;\n  if (!isChild) ele[propsDefault.children] = [];\n  if (!isChild && first && !isURL(ele[propsDefault.path])) {\n    ele[propsDefault.path] = ele[propsDefault.path] + '/index';\n  } else {\n    ele[propsDefault.children].forEach(function (child) {\n      addPath(child);\n    });\n  }\n}\nvar menuObj = {\n  \"id\": \"1123598815738675397\",\n  \"parentId\": \"0\",\n  \"code\": \"account\",\n  \"name\": \"账户管理\",\n  \"alias\": \"menu\",\n  \"path\": \"/account\",\n  \"source\": \"iconfont icon-bofangqi-suoping\",\n  \"sort\": 98,\n  \"category\": 1,\n  \"action\": 0,\n  \"isOpen\": 1,\n  \"remark\": \"\",\n  \"isDeleted\": 1,\n  \"children\": [{\n    \"id\": \"1123598815738675398\",\n    \"parentId\": \"1123598815738675397\",\n    \"code\": \"role\",\n    \"name\": \"用户列表(管理员)\",\n    \"alias\": \"menu\",\n    \"path\": \"/account/customer\",\n    \"source\": \"iconfont iconicon_boss\",\n    \"sort\": 1,\n    \"category\": 1,\n    \"action\": 0,\n    \"isOpen\": 1,\n    \"remark\": \"\",\n    \"isDeleted\": 0,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\"\n  }, {\n    \"id\": \"1123598815738675391\",\n    \"parentId\": \"1123598815738675397\",\n    \"code\": \"role\",\n    \"name\": \"账户明细(用户)\",\n    \"alias\": \"menu\",\n    \"path\": \"/account/accountuser\",\n    \"source\": \"iconfont iconicon_boss\",\n    \"sort\": 1,\n    \"category\": 1,\n    \"action\": 0,\n    \"isOpen\": 1,\n    \"remark\": \"\",\n    \"isDeleted\": 1,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\"\n  }, {\n    \"id\": \"1123598815738675390\",\n    \"parentId\": \"1123598815738675397\",\n    \"code\": \"role\",\n    \"name\": \"充值(用户)\",\n    \"alias\": \"menu\",\n    \"path\": \"/account/recharge\",\n    \"source\": \"iconfont iconicon_boss\",\n    \"sort\": 1,\n    \"category\": 1,\n    \"action\": 0,\n    \"isOpen\": 1,\n    \"remark\": \"\",\n    \"isDeleted\": 1,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\",\n    \"hidden\": true\n  }],\n  \"hasChildren\": false,\n  \"parentName\": \"\",\n  \"categoryName\": \"\",\n  \"actionName\": \"\",\n  \"isOpenName\": \"\"\n};\nvar btnobj = {\n  \"id\": \"1123598815738675396\",\n  \"parentId\": \"1123598815738675397\",\n  \"code\": \"role\",\n  \"name\": \"角色管理\",\n  \"alias\": \"menu\",\n  \"path\": \"/userbalance/userbalancelist\",\n  \"source\": \"iconfont iconicon_boss\",\n  \"sort\": 1,\n  \"category\": -1,\n  \"action\": 0,\n  \"isOpen\": -1,\n  \"remark\": \"\",\n  \"isDeleted\": -1,\n  \"children\": [{\n    \"id\": \"1123598815738675395\",\n    \"parentId\": \"1123598815738675396\",\n    \"code\": \"role_add\",\n    \"name\": \"新增\",\n    \"alias\": \"add\",\n    \"path\": \"/authority/role/add\",\n    \"source\": \"plus\",\n    \"sort\": 1,\n    \"category\": -1,\n    \"action\": 1,\n    \"isOpen\": -1,\n    \"remark\": \"\",\n    \"isDeleted\": -1,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\"\n  }, {\n    \"id\": \"1123598815738675394\",\n    \"parentId\": \"1123598815738675396\",\n    \"code\": \"role_edit\",\n    \"name\": \"修改\",\n    \"alias\": \"edit\",\n    \"path\": \"/authority/role/edit\",\n    \"source\": \"form\",\n    \"sort\": 2,\n    \"category\": -1,\n    \"action\": 2,\n    \"isOpen\": -1,\n    \"remark\": \"\",\n    \"isDeleted\": -1,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\"\n  }, {\n    \"id\": \"1123598815738675393\",\n    \"parentId\": \"1123598815738675396\",\n    \"code\": \"role_delete\",\n    \"name\": \"删除\",\n    \"alias\": \"delete\",\n    \"path\": \"/api/blade-system/role/remove\",\n    \"source\": \"delete\",\n    \"sort\": 3,\n    \"category\": -1,\n    \"action\": 3,\n    \"isOpen\": -1,\n    \"remark\": \"\",\n    \"isDeleted\": -1,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\"\n  }, {\n    \"id\": \"1123598815738675392\",\n    \"parentId\": \"1123598815738675396\",\n    \"code\": \"role_view\",\n    \"name\": \"查看\",\n    \"alias\": \"view\",\n    \"path\": \"/authority/role/view\",\n    \"source\": \"file-text\",\n    \"sort\": 4,\n    \"category\": -1,\n    \"action\": 2,\n    \"isOpen\": -1,\n    \"remark\": \"\",\n    \"isDeleted\": -1,\n    \"hasChildren\": false,\n    \"parentName\": \"\",\n    \"categoryName\": \"\",\n    \"actionName\": \"\",\n    \"isOpenName\": \"\"\n  }],\n  \"hasChildren\": false,\n  \"parentName\": \"\",\n  \"categoryName\": \"\",\n  \"actionName\": \"\",\n  \"isOpenName\": \"\"\n};\nvar user = {\n  state: {\n    userInfo: getStore({\n      name: 'userInfo'\n    }) || [],\n    permission: getStore({\n      name: 'permission'\n    }) || {},\n    roles: [],\n    menu: getStore({\n      name: 'menu'\n    }) || [],\n    menuAll: [],\n    token: getStore({\n      name: 'token'\n    }) || ''\n  },\n  actions: {\n    //根据用户名登录\n    LoginByUsername: function LoginByUsername(_ref, userInfo) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        loginByUsername(userInfo.tenantId, userInfo.username, userInfo.password, userInfo.type, userInfo.key, userInfo.code).then(function (res) {\n          var data = res.data.data;\n          setToken(data.accessToken);\n          console.log(\"登录成功\", data.accessToken);\n          commit('SET_TOKEN', data.accessToken);\n          commit('SET_USER_INFO', data);\n          commit('DEL_ALL_TAG');\n          commit('CLEAR_LOCK');\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    //根据第三方信息登录\n    LoginBySocial: function LoginBySocial(_ref2, userInfo) {\n      var commit = _ref2.commit;\n      return new Promise(function (resolve) {\n        loginBySocial(userInfo.tenantId, userInfo.source, userInfo.code, userInfo.state).then(function (res) {\n          var data = res.data;\n          if (data.success) {\n            commit('SET_TOKEN', data.data.accessToken);\n            commit('SET_REFRESH_TOKEN', data.data.refreshToken);\n            commit('SET_USER_INFO', data.data);\n            commit('DEL_ALL_TAG');\n            commit('CLEAR_LOCK');\n          } else {\n            Message({\n              message: data.msg,\n              type: 'error'\n            });\n          }\n          resolve();\n        });\n      });\n    },\n    //根据手机号登录\n    LoginByPhone: function LoginByPhone(_ref3, userInfo) {\n      var commit = _ref3.commit;\n      return new Promise(function (resolve) {\n        loginByUsername(userInfo.phone, userInfo.code).then(function (res) {\n          var data = res.data.data;\n          commit('SET_TOKEN', data);\n          commit('DEL_ALL_TAG');\n          commit('CLEAR_LOCK');\n          resolve();\n        });\n      });\n    },\n    GetUserInfo: function GetUserInfo(_ref4) {\n      var commit = _ref4.commit;\n      return new Promise(function (resolve, reject) {\n        getUserInfo().then(function (res) {\n          var data = res.data.data;\n          commit('SET_ROLES', data.roles);\n          resolve(data);\n        }).catch(function (err) {\n          reject(err);\n        });\n      });\n    },\n    //刷新token\n    RefreshToken: function RefreshToken(_ref5) {\n      var state = _ref5.state,\n        commit = _ref5.commit;\n      return new Promise(function (resolve, reject) {\n        refreshToken(state.refreshToken).then(function (res) {\n          var data = res.data.data;\n          commit('SET_TOKEN', data);\n          resolve(data);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    // 登出\n    LogOut: function LogOut(_ref6) {\n      var commit = _ref6.commit;\n      return new Promise(function (resolve, reject) {\n        logout().then(function () {\n          commit('SET_TOKEN', '');\n          commit('SET_MENU', []);\n          commit('SET_MENU_ALL', []);\n          commit('SET_ROLES', []);\n          commit('DEL_ALL_TAG');\n          commit('CLEAR_LOCK');\n          removeToken();\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    //注销session\n    FedLogOut: function FedLogOut(_ref7) {\n      var commit = _ref7.commit;\n      return new Promise(function (resolve) {\n        commit('SET_TOKEN', '');\n        commit('SET_MENU', []);\n        commit('SET_MENU_ALL', []);\n        commit('SET_ROLES', []);\n        commit('DEL_ALL_TAG');\n        commit('CLEAR_LOCK');\n        removeToken();\n        resolve();\n      });\n    },\n    GetTopMenu: function GetTopMenu() {\n      return new Promise(function (resolve) {\n        getTopMenu().then(function (res) {\n          var data = res.data.data || [];\n          resolve(data);\n        });\n      });\n    },\n    //获取系统菜单\n    GetMenu: function GetMenu(_ref8, parentId) {\n      var commit = _ref8.commit,\n        dispatch = _ref8.dispatch;\n      return new Promise(function (resolve) {\n        getMenu(parentId).then(function (res) {\n          console.log('66666获取系统菜单', res);\n          var data = res.data.data;\n          var menu = deepClone(data);\n          menu.push(menuObj);\n          menu.forEach(function (ele) {\n            addPath(ele, true);\n          });\n          commit('SET_MENU', menu);\n          commit('SET_MENU_ALL', menu);\n          dispatch('GetButtons');\n          resolve(menu);\n        });\n      });\n    },\n    GetButtons: function GetButtons(_ref9) {\n      var commit = _ref9.commit;\n      return new Promise(function (resolve) {\n        getButtons().then(function (res) {\n          var data = res.data.data;\n          console.log('66666获取data系统菜单', data);\n          // data.push(btnobj)\n          commit('SET_PERMISSION', data);\n          resolve();\n        });\n      });\n    }\n  },\n  mutations: {\n    SET_TOKEN: function SET_TOKEN(state, token) {\n      setToken(token);\n      state.token = token;\n      setStore({\n        name: 'token',\n        content: state.token,\n        type: 'session'\n      });\n    },\n    SET_USER_INFO: function SET_USER_INFO(state, userInfo) {\n      state.userInfo = userInfo;\n      setStore({\n        name: 'userInfo',\n        content: state.userInfo\n      });\n    },\n    SET_MENU_ALL: function SET_MENU_ALL(state, menuAll) {\n      state.menuAll = menuAll;\n      setStore({\n        name: 'menuAll',\n        content: state.menuAll,\n        type: 'session'\n      });\n    },\n    SET_MENU: function SET_MENU(state, menu) {\n      state.menu = menu;\n      setStore({\n        name: 'menu',\n        content: state.menu,\n        type: 'session'\n      });\n      if (validatenull(menu)) return;\n      //合并动态路由去重\n      var menuAll = state.menuAll;\n      menuAll = menuAll.concat(menu).reverse();\n      var newMenu = [];\n      var _iterator = _createForOfIteratorHelper(menuAll),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item1 = _step.value;\n          var flag = true;\n          var _iterator2 = _createForOfIteratorHelper(newMenu),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var item2 = _step2.value;\n              if (item1.name === item2.name || item1.path === item2.path) {\n                flag = false;\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          if (flag) newMenu.push(item1);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      state.menuAll = newMenu;\n      setStore({\n        name: 'menuAll',\n        content: state.menuAll,\n        type: 'session'\n      });\n    },\n    SET_ROLES: function SET_ROLES(state, roles) {\n      state.roles = roles;\n    },\n    SET_PERMISSION: function SET_PERMISSION(state, permission) {\n      var result = [];\n      function getCode(list) {\n        list.forEach(function (ele) {\n          if (_typeof(ele) === 'object') {\n            var chiildren = ele.children;\n            var code = ele.code;\n            if (chiildren) {\n              getCode(chiildren);\n            } else {\n              result.push(code);\n            }\n          }\n        });\n      }\n      getCode(permission);\n      state.permission = {};\n      result.forEach(function (ele) {\n        state.permission[ele] = true;\n      });\n      setStore({\n        name: 'permission',\n        content: state.permission,\n        type: 'session'\n      });\n    }\n  }\n};\nexport default user;",{"version":3,"names":["setToken","removeToken","setStore","getStore","isURL","validatenull","deepClone","webiste","Message","loginByUsername","loginBySocial","getUserInfo","getMenu","getTopMenu","logout","refreshToken","getButtons","addPath","ele","first","menu","propsConfig","props","propsDefault","label","path","icon","children","iconDefault","isChild","length","forEach","child","menuObj","btnobj","user","state","userInfo","name","permission","roles","menuAll","token","actions","LoginByUsername","_ref","commit","Promise","resolve","reject","tenantId","username","password","type","key","code","then","res","data","accessToken","console","log","catch","error","LoginBySocial","_ref2","source","success","message","msg","LoginByPhone","_ref3","phone","GetUserInfo","_ref4","err","RefreshToken","_ref5","LogOut","_ref6","FedLogOut","_ref7","GetTopMenu","GetMenu","_ref8","parentId","dispatch","push","GetButtons","_ref9","mutations","SET_TOKEN","content","SET_USER_INFO","SET_MENU_ALL","SET_MENU","concat","reverse","newMenu","_iterator","_createForOfIteratorHelper","_step","s","n","done","item1","value","flag","_iterator2","_step2","item2","e","f","SET_ROLES","SET_PERMISSION","result","getCode","list","_typeof","chiildren"],"sources":["D:/转化仓库/e-adminSystem/src/store/modules/user.js"],"sourcesContent":["import {setToken, removeToken} from '@/util/auth'\r\nimport {setStore, getStore} from '@/util/store'\r\nimport {isURL, validatenull} from '@/util/validate'\r\nimport {deepClone} from '@/util/util'\r\nimport webiste from '@/config/website'\r\nimport {Message} from 'element-ui'\r\nimport {loginByUsername, loginBySocial, getUserInfo, getMenu, getTopMenu, logout, refreshToken, getButtons} from '@/api/user'\r\n\r\n\r\nfunction addPath(ele, first) {\r\n  const menu = webiste.menu;\r\n  const propsConfig = menu.props;\r\n  const propsDefault = {\r\n    label: propsConfig.label || 'name',\r\n    path: propsConfig.path || 'path',\r\n    icon: propsConfig.icon || 'icon',\r\n    children: propsConfig.children || 'children'\r\n  };\r\n  const icon = ele[propsDefault.icon];\r\n  ele[propsDefault.icon] = validatenull(icon) ? menu.iconDefault : icon;\r\n  const isChild = ele[propsDefault.children] && ele[propsDefault.children].length !== 0;\r\n  if (!isChild) ele[propsDefault.children] = [];\r\n  if (!isChild && first && !isURL(ele[propsDefault.path])) {\r\n    ele[propsDefault.path] = ele[propsDefault.path] + '/index'\r\n  } else {\r\n    ele[propsDefault.children].forEach(child => {\r\n      addPath(child);\r\n    })\r\n  }\r\n\r\n}\r\nconst menuObj= {\r\n  \"id\": \"1123598815738675397\",\r\n  \"parentId\": \"0\",\r\n  \"code\": \"account\",\r\n  \"name\": \"账户管理\",\r\n  \"alias\": \"menu\",\r\n  \"path\": \"/account\",\r\n  \"source\": \"iconfont icon-bofangqi-suoping\",\r\n  \"sort\": 98,\r\n  \"category\": 1,\r\n  \"action\": 0,\r\n  \"isOpen\": 1,\r\n  \"remark\": \"\",\r\n  \"isDeleted\": 1,\r\n  \"children\": [\r\n    {\r\n      \"id\": \"1123598815738675398\",\r\n      \"parentId\": \"1123598815738675397\",\r\n      \"code\": \"role\",\r\n      \"name\": \"用户列表(管理员)\",\r\n      \"alias\": \"menu\",\r\n      \"path\": \"/account/customer\",\r\n      \"source\": \"iconfont iconicon_boss\",\r\n      \"sort\": 1,\r\n      \"category\": 1,\r\n      \"action\": 0,\r\n      \"isOpen\": 1,\r\n      \"remark\": \"\",\r\n      \"isDeleted\": 0,\r\n      \"hasChildren\": false,\r\n      \"parentName\": \"\",\r\n      \"categoryName\": \"\",\r\n      \"actionName\": \"\",\r\n      \"isOpenName\": \"\"\r\n    },\r\n    {\r\n      \"id\": \"1123598815738675391\",\r\n      \"parentId\": \"1123598815738675397\",\r\n      \"code\": \"role\",\r\n      \"name\": \"账户明细(用户)\",\r\n      \"alias\": \"menu\",\r\n      \"path\": \"/account/accountuser\",\r\n      \"source\": \"iconfont iconicon_boss\",\r\n      \"sort\": 1,\r\n      \"category\": 1,\r\n      \"action\": 0,\r\n      \"isOpen\": 1,\r\n      \"remark\": \"\",\r\n      \"isDeleted\": 1,\r\n      \"hasChildren\": false,\r\n      \"parentName\": \"\",\r\n      \"categoryName\": \"\",\r\n      \"actionName\": \"\",\r\n      \"isOpenName\": \"\"\r\n    },\r\n    {\r\n      \"id\": \"1123598815738675390\",\r\n      \"parentId\": \"1123598815738675397\",\r\n      \"code\": \"role\",\r\n      \"name\": \"充值(用户)\",\r\n      \"alias\": \"menu\",\r\n      \"path\": \"/account/recharge\",\r\n      \"source\": \"iconfont iconicon_boss\",\r\n      \"sort\": 1,\r\n      \"category\": 1,\r\n      \"action\": 0,\r\n      \"isOpen\": 1,\r\n      \"remark\": \"\",\r\n      \"isDeleted\": 1,\r\n      \"hasChildren\": false,\r\n      \"parentName\": \"\",\r\n      \"categoryName\": \"\",\r\n      \"actionName\": \"\",\r\n      \"isOpenName\": \"\",\r\n      \"hidden\": true,\r\n    },\r\n  ],\r\n  \"hasChildren\": false,\r\n  \"parentName\": \"\",\r\n  \"categoryName\": \"\",\r\n  \"actionName\": \"\",\r\n  \"isOpenName\": \"\"\r\n}\r\n \r\nconst btnobj=  {\r\n  \"id\": \"1123598815738675396\",\r\n  \"parentId\": \"1123598815738675397\",\r\n  \"code\": \"role\",\r\n  \"name\": \"角色管理\",\r\n  \"alias\": \"menu\",\r\n  \"path\": \"/userbalance/userbalancelist\",\r\n  \"source\": \"iconfont iconicon_boss\",\r\n  \"sort\": 1,\r\n  \"category\": -1,\r\n  \"action\": 0,\r\n  \"isOpen\": -1,\r\n  \"remark\": \"\",\r\n  \"isDeleted\": -1,\r\n  \"children\": [\r\n      {\r\n          \"id\": \"1123598815738675395\",\r\n          \"parentId\": \"1123598815738675396\",\r\n          \"code\": \"role_add\",\r\n          \"name\": \"新增\",\r\n          \"alias\": \"add\",\r\n          \"path\": \"/authority/role/add\",\r\n          \"source\": \"plus\",\r\n          \"sort\": 1,\r\n          \"category\": -1,\r\n          \"action\": 1,\r\n          \"isOpen\": -1,\r\n          \"remark\": \"\",\r\n          \"isDeleted\": -1,\r\n          \"hasChildren\": false,\r\n          \"parentName\": \"\",\r\n          \"categoryName\": \"\",\r\n          \"actionName\": \"\",\r\n          \"isOpenName\": \"\"\r\n      },\r\n      {\r\n          \"id\": \"1123598815738675394\",\r\n          \"parentId\": \"1123598815738675396\",\r\n          \"code\": \"role_edit\",\r\n          \"name\": \"修改\",\r\n          \"alias\": \"edit\",\r\n          \"path\": \"/authority/role/edit\",\r\n          \"source\": \"form\",\r\n          \"sort\": 2,\r\n          \"category\": -1,\r\n          \"action\": 2,\r\n          \"isOpen\": -1,\r\n          \"remark\": \"\",\r\n          \"isDeleted\": -1,\r\n          \"hasChildren\": false,\r\n          \"parentName\": \"\",\r\n          \"categoryName\": \"\",\r\n          \"actionName\": \"\",\r\n          \"isOpenName\": \"\"\r\n      },\r\n      {\r\n          \"id\": \"1123598815738675393\",\r\n          \"parentId\": \"1123598815738675396\",\r\n          \"code\": \"role_delete\",\r\n          \"name\": \"删除\",\r\n          \"alias\": \"delete\",\r\n          \"path\": \"/api/blade-system/role/remove\",\r\n          \"source\": \"delete\",\r\n          \"sort\": 3,\r\n          \"category\": -1,\r\n          \"action\": 3,\r\n          \"isOpen\": -1,\r\n          \"remark\": \"\",\r\n          \"isDeleted\": -1,\r\n          \"hasChildren\": false,\r\n          \"parentName\": \"\",\r\n          \"categoryName\": \"\",\r\n          \"actionName\": \"\",\r\n          \"isOpenName\": \"\"\r\n      },\r\n      {\r\n          \"id\": \"1123598815738675392\",\r\n          \"parentId\": \"1123598815738675396\",\r\n          \"code\": \"role_view\",\r\n          \"name\": \"查看\",\r\n          \"alias\": \"view\",\r\n          \"path\": \"/authority/role/view\",\r\n          \"source\": \"file-text\",\r\n          \"sort\": 4,\r\n          \"category\": -1,\r\n          \"action\": 2,\r\n          \"isOpen\": -1,\r\n          \"remark\": \"\",\r\n          \"isDeleted\": -1,\r\n          \"hasChildren\": false,\r\n          \"parentName\": \"\",\r\n          \"categoryName\": \"\",\r\n          \"actionName\": \"\",\r\n          \"isOpenName\": \"\"\r\n      }\r\n  ],\r\n  \"hasChildren\": false,\r\n  \"parentName\": \"\",\r\n  \"categoryName\": \"\",\r\n  \"actionName\": \"\",\r\n  \"isOpenName\": \"\"\r\n}\r\nconst user = {\r\n  state: {\r\n    userInfo: getStore({name: 'userInfo'}) || [],\r\n    permission: getStore({name: 'permission'}) || {},\r\n    roles: [],\r\n    menu: getStore({name: 'menu'}) || [],\r\n    menuAll: [],\r\n    token: getStore({name: 'token'}) || '',\r\n  },\r\n  actions: {\r\n    //根据用户名登录\r\n    LoginByUsername({commit}, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n        loginByUsername(userInfo.tenantId, userInfo.username, userInfo.password, userInfo.type, userInfo.key, userInfo.code).then(res => {\r\n          const data = res.data.data;\r\n          setToken(data.accessToken)\r\n          console.log(\"登录成功\",data.accessToken)\r\n          commit('SET_TOKEN', data.accessToken);\r\n          commit('SET_USER_INFO', data);\r\n          commit('DEL_ALL_TAG');\r\n          commit('CLEAR_LOCK');\r\n          resolve();\r\n        }).catch(error => {\r\n          reject(error);\r\n        })\r\n      })\r\n    },\r\n    //根据第三方信息登录\r\n    LoginBySocial({ commit }, userInfo) {\r\n      return new Promise((resolve) => {\r\n        loginBySocial(userInfo.tenantId, userInfo.source, userInfo.code, userInfo.state).then(res => {\r\n          const data = res.data;\r\n          if (data.success) {\r\n            commit('SET_TOKEN', data.data.accessToken);\r\n            commit('SET_REFRESH_TOKEN', data.data.refreshToken);\r\n            commit('SET_USER_INFO', data.data);\r\n            commit('DEL_ALL_TAG');\r\n            commit('CLEAR_LOCK');\r\n          } else {\r\n            Message({\r\n              message: data.msg,\r\n              type: 'error'\r\n            })\r\n          }\r\n          resolve();\r\n        })\r\n      })\r\n    },\r\n    //根据手机号登录\r\n    LoginByPhone({commit}, userInfo) {\r\n      return new Promise((resolve) => {\r\n        loginByUsername(userInfo.phone, userInfo.code).then(res => {\r\n          const data = res.data.data;\r\n          commit('SET_TOKEN', data);\r\n          commit('DEL_ALL_TAG');\r\n          commit('CLEAR_LOCK');\r\n          resolve();\r\n        })\r\n      })\r\n    },\r\n    GetUserInfo({commit}) {\r\n      return new Promise((resolve, reject) => {\r\n        getUserInfo().then((res) => {\r\n          const data = res.data.data;\r\n          commit('SET_ROLES', data.roles);\r\n          resolve(data);\r\n        }).catch(err => {\r\n          reject(err);\r\n        })\r\n      })\r\n    },\r\n    //刷新token\r\n    RefreshToken({state, commit}) {\r\n      return new Promise((resolve, reject) => {\r\n        refreshToken(state.refreshToken).then(res => {\r\n          const data = res.data.data;\r\n          commit('SET_TOKEN', data);\r\n          resolve(data);\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n    // 登出\r\n    LogOut({commit}) {\r\n      return new Promise((resolve, reject) => {\r\n        logout().then(() => {\r\n          commit('SET_TOKEN', '');\r\n          commit('SET_MENU', [])\r\n          commit('SET_MENU_ALL', []);\r\n          commit('SET_ROLES', []);\r\n          commit('DEL_ALL_TAG');\r\n          commit('CLEAR_LOCK');\r\n          removeToken()\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n    //注销session\r\n    FedLogOut({commit}) {\r\n      return new Promise(resolve => {\r\n        commit('SET_TOKEN', '');\r\n        commit('SET_MENU', []);\r\n        commit('SET_MENU_ALL', []);\r\n        commit('SET_ROLES', []);\r\n        commit('DEL_ALL_TAG');\r\n        commit('CLEAR_LOCK');\r\n        removeToken()\r\n        resolve()\r\n      })\r\n    },\r\n    GetTopMenu() {\r\n      return new Promise(resolve => {\r\n        getTopMenu().then((res) => {\r\n          const data = res.data.data || []\r\n          resolve(data)\r\n        })\r\n      })\r\n    },\r\n    //获取系统菜单\r\n    GetMenu({commit, dispatch}, parentId) {\r\n      return new Promise(resolve => {\r\n        getMenu(parentId).then((res) => { \r\n          console.log('66666获取系统菜单',res);\r\n          const data = res.data.data\r\n          let menu = deepClone(data);\r\n          menu.push(menuObj) \r\n          menu.forEach(ele => {\r\n            addPath(ele, true);\r\n          })\r\n         \r\n          commit('SET_MENU', menu);\r\n          commit('SET_MENU_ALL', menu);\r\n          dispatch('GetButtons');\r\n          resolve(menu)\r\n        })\r\n      })\r\n    },\r\n    GetButtons({commit}) {\r\n      return new Promise((resolve) => {\r\n        getButtons().then(res => { \r\n          const data = res.data.data; \r\n          console.log('66666获取data系统菜单',data);\r\n          // data.push(btnobj)\r\n          commit('SET_PERMISSION', data);\r\n          resolve();\r\n        })\r\n      })\r\n    },\r\n  },\r\n  mutations: {\r\n    SET_TOKEN: (state, token) => {\r\n      setToken(token)\r\n      state.token = token;\r\n      setStore({name: 'token', content: state.token, type: 'session'})\r\n    },\r\n    SET_USER_INFO: (state, userInfo) => {\r\n      state.userInfo = userInfo;\r\n      setStore({name: 'userInfo', content: state.userInfo})\r\n    },\r\n    SET_MENU_ALL: (state, menuAll) => {\r\n      state.menuAll = menuAll\r\n      setStore({name: 'menuAll', content: state.menuAll, type: 'session'})\r\n    },\r\n    SET_MENU: (state, menu) => {\r\n      state.menu = menu\r\n      setStore({name: 'menu', content: state.menu, type: 'session'})\r\n      if (validatenull(menu)) return;\r\n      //合并动态路由去重\r\n      let menuAll = state.menuAll;\r\n      menuAll = menuAll.concat(menu).reverse();\r\n      let newMenu = [];\r\n      for (let item1 of menuAll) {\r\n        let flag = true;\r\n        for (let item2 of newMenu) {\r\n          if (item1.name === item2.name || item1.path === item2.path) {\r\n            flag = false;\r\n          }\r\n        }\r\n        if (flag) newMenu.push(item1);\r\n      }\r\n      state.menuAll = newMenu;\r\n      setStore({name: 'menuAll', content: state.menuAll, type: 'session'})\r\n    },\r\n    SET_ROLES: (state, roles) => {\r\n      state.roles = roles;\r\n    },\r\n    SET_PERMISSION: (state, permission) => {\r\n      let result = [];\r\n\r\n      function getCode(list) {\r\n        list.forEach(ele => {\r\n          if (typeof (ele) === 'object') {\r\n            const chiildren = ele.children;\r\n            const code = ele.code;\r\n            if (chiildren) {\r\n              getCode(chiildren)\r\n            } else {\r\n              result.push(code);\r\n            }\r\n          }\r\n\r\n        })\r\n      }\r\n\r\n      getCode(permission);\r\n      state.permission = {};\r\n      result.forEach(ele => {\r\n        state.permission[ele] = true;\r\n      });\r\n      setStore({name: 'permission', content: state.permission, type: 'session'})\r\n    }\r\n  }\r\n\r\n}\r\nexport default user\r\n"],"mappings":"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"}]}