{"remainingRequest":"D:\\转化仓库\\e-adminSystem\\node_modules\\babel-loader\\lib\\index.js!D:\\转化仓库\\e-adminSystem\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\转化仓库\\e-adminSystem\\src\\store\\modules\\logs.js","dependencies":[{"path":"D:\\转化仓库\\e-adminSystem\\src\\store\\modules\\logs.js","mtime":1679368696531},{"path":"D:\\转化仓库\\e-adminSystem\\babel.config.js","mtime":1679368691947},{"path":"D:\\转化仓库\\e-adminSystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\转化仓库\\e-adminSystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\转化仓库\\e-adminSystem\\node_modules\\eslint-loader\\index.js","mtime":1678778406019}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport { setStore, getStore } from '@/util/store';\nimport { dateFormat } from '@/util/date';\nimport { sendLogs } from '@/api/user';\nvar logs = {\n  state: {\n    logsList: getStore({\n      name: 'logsList'\n    }) || []\n  },\n  actions: {\n    //发送错误日志\n    SendLogs: function SendLogs(_ref) {\n      var state = _ref.state,\n        commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        sendLogs(state.logsList).then(function () {\n          commit('CLEAR_LOGS');\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    }\n  },\n  mutations: {\n    ADD_LOGS: function ADD_LOGS(state, _ref2) {\n      var type = _ref2.type,\n        message = _ref2.message,\n        stack = _ref2.stack,\n        info = _ref2.info;\n      state.logsList.push(Object.assign({\n        url: window.location.href,\n        time: dateFormat(new Date())\n      }, {\n        type: type,\n        message: message,\n        stack: stack,\n        info: info.toString()\n      }));\n      setStore({\n        name: 'logsList',\n        content: state.logsList\n      });\n    },\n    CLEAR_LOGS: function CLEAR_LOGS(state) {\n      state.logsList = [];\n      setStore({\n        name: 'logsList',\n        content: state.logsList\n      });\n    }\n  }\n};\nexport default logs;",{"version":3,"names":["setStore","getStore","dateFormat","sendLogs","logs","state","logsList","name","actions","SendLogs","_ref","commit","Promise","resolve","reject","then","catch","error","mutations","ADD_LOGS","_ref2","type","message","stack","info","push","Object","assign","url","window","location","href","time","Date","toString","content","CLEAR_LOGS"],"sources":["D:/转化仓库/e-adminSystem/src/store/modules/logs.js"],"sourcesContent":["import { setStore, getStore } from '@/util/store'\r\nimport { dateFormat } from '@/util/date'\r\nimport { sendLogs } from '@/api/user'\r\nconst logs = {\r\n    state: {\r\n        logsList: getStore({ name: 'logsList' }) || [],\r\n    },\r\n    actions: {\r\n        //发送错误日志\r\n        SendLogs({ state, commit }) {\r\n            return new Promise((resolve, reject) => {\r\n                sendLogs(state.logsList).then(() => {\r\n                    commit('CLEAR_LOGS');\r\n                    resolve();\r\n                }).catch(error => {\r\n                    reject(error)\r\n                })\r\n            })\r\n        },\r\n    },\r\n    mutations: {\r\n        ADD_LOGS: (state, { type, message, stack, info }) => {\r\n            state.logsList.push(Object.assign({\r\n                url: window.location.href,\r\n                time: dateFormat(new Date())\r\n            }, {\r\n                    type,\r\n                    message,\r\n                    stack,\r\n                    info: info.toString()\r\n                }))\r\n            setStore({ name: 'logsList', content: state.logsList })\r\n        },\r\n        CLEAR_LOGS: (state) => {\r\n            state.logsList = [];\r\n            setStore({ name: 'logsList', content: state.logsList })\r\n        }\r\n    }\r\n\r\n};\r\n\r\nexport default logs;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,QAAQ,QAAQ,cAAc;AACjD,SAASC,UAAU,QAAQ,aAAa;AACxC,SAASC,QAAQ,QAAQ,YAAY;AACrC,IAAMC,IAAI,GAAG;EACTC,KAAK,EAAE;IACHC,QAAQ,EAAEL,QAAQ,CAAC;MAAEM,IAAI,EAAE;IAAW,CAAC,CAAC,IAAI;EAChD,CAAC;EACDC,OAAO,EAAE;IACL;IACAC,QAAQ,WAAAA,SAAAC,IAAA,EAAoB;MAAA,IAAjBL,KAAK,GAAAK,IAAA,CAALL,KAAK;QAAEM,MAAM,GAAAD,IAAA,CAANC,MAAM;MACpB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACpCX,QAAQ,CAACE,KAAK,CAACC,QAAQ,CAAC,CAACS,IAAI,CAAC,YAAM;UAChCJ,MAAM,CAAC,YAAY,CAAC;UACpBE,OAAO,EAAE;QACb,CAAC,CAAC,CAACG,KAAK,CAAC,UAAAC,KAAK,EAAI;UACdH,MAAM,CAACG,KAAK,CAAC;QACjB,CAAC,CAAC;MACN,CAAC,CAAC;IACN;EACJ,CAAC;EACDC,SAAS,EAAE;IACPC,QAAQ,EAAE,SAAAA,SAACd,KAAK,EAAAe,KAAA,EAAqC;MAAA,IAAjCC,IAAI,GAAAD,KAAA,CAAJC,IAAI;QAAEC,OAAO,GAAAF,KAAA,CAAPE,OAAO;QAAEC,KAAK,GAAAH,KAAA,CAALG,KAAK;QAAEC,IAAI,GAAAJ,KAAA,CAAJI,IAAI;MAC1CnB,KAAK,CAACC,QAAQ,CAACmB,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC;QAC9BC,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI;QACzBC,IAAI,EAAE9B,UAAU,CAAC,IAAI+B,IAAI,EAAE;MAC/B,CAAC,EAAE;QACKZ,IAAI,EAAJA,IAAI;QACJC,OAAO,EAAPA,OAAO;QACPC,KAAK,EAALA,KAAK;QACLC,IAAI,EAAEA,IAAI,CAACU,QAAQ;MACvB,CAAC,CAAC,CAAC;MACPlC,QAAQ,CAAC;QAAEO,IAAI,EAAE,UAAU;QAAE4B,OAAO,EAAE9B,KAAK,CAACC;MAAS,CAAC,CAAC;IAC3D,CAAC;IACD8B,UAAU,EAAE,SAAAA,WAAC/B,KAAK,EAAK;MACnBA,KAAK,CAACC,QAAQ,GAAG,EAAE;MACnBN,QAAQ,CAAC;QAAEO,IAAI,EAAE,UAAU;QAAE4B,OAAO,EAAE9B,KAAK,CAACC;MAAS,CAAC,CAAC;IAC3D;EACJ;AAEJ,CAAC;AAED,eAAeF,IAAI"}]}