{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_order_return_approve.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\order\\dialog_order_return_approve.vue","mtime":1673873034000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\babel.config.js","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { auditReturn, refused, returnRefused } from \"../../api/order/order\";\nimport vue from \"../../main\";\nexport default {\n  name: 'dialog',\n  data: function data() {\n    return {\n      param: null,\n      isShow: false,\n      imagesList: [],\n      depositType: null,\n      sendNote: '',\n      form: {\n        orderId: null,\n        note: null\n      },\n      imageUrl: '',\n      textarea: '',\n      rules: {\n        note: [{\n          required: false,\n          message: '请填写理由',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  watch: {\n    isShow: function isShow(val, oldVal) {\n      var _this = this;\n      if (!val) {\n        this.$nextTick(function () {\n          _this.end(true);\n        });\n      }\n    }\n  },\n  created: function created() {\n    console.log(this.param);\n  },\n  mounted: function mounted() {\n    if (this.param.sendVoucher) {\n      var images = this.param.sendVoucher.split(\",\");\n      var _iterator = _createForOfIteratorHelper(images),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var image = _step.value;\n          this.imagesList.push(vue.$store.state.common.cloudDomain + image);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    this.depositType = this.param.depositType;\n    this.sendNote = this.param.sendNote;\n    console.log(this.param);\n  },\n  activated: function activated() {},\n  methods: {\n    passConfirm: function passConfirm() {\n      var _this2 = this;\n      auditReturn(this.param.id).then(function (res) {\n        vue.$message({\n          type: 'success',\n          message: '审核成功!'\n        });\n        _this2.isShow = false;\n        _this2.$nextTick(function () {\n          _this2.end(true);\n        });\n      }).catch(function (res) {});\n    },\n    refuseConfirm: function refuseConfirm() {\n      var _this3 = this;\n      this.$refs.form.validate(function (valid) {\n        console.log(valid);\n        if (valid) {\n          returnRefused(_this3.param.id).then(function (res) {\n            vue.$message({\n              type: 'success',\n              message: '拒绝成功!'\n            });\n            _this3.isShow = false;\n            _this3.$nextTick(function () {\n              _this3.end(true);\n            });\n          }).catch(function (res) {});\n        } else {\n          return false;\n        }\n      });\n    },\n    closeFn: function closeFn() {},\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    }\n  }\n};",{"version":3,"names":["auditReturn","refused","returnRefused","vue","name","data","param","isShow","imagesList","depositType","sendNote","form","orderId","note","imageUrl","textarea","rules","required","message","trigger","watch","val","oldVal","_this","$nextTick","end","created","console","log","mounted","sendVoucher","images","split","_iterator","_createForOfIteratorHelper","_step","s","n","done","image","value","push","$store","state","common","cloudDomain","err","e","f","activated","methods","passConfirm","_this2","id","then","res","$message","type","catch","refuseConfirm","_this3","$refs","validate","valid","closeFn","handleAvatarSuccess","file","URL","createObjectURL","raw","beforeAvatarUpload","isJPG","isLt2M","size","error"],"sources":["src/components/order/dialog_order_return_approve.vue"],"sourcesContent":["<!--\n 审核拒绝\n -->\n<template>\n  <div>\n    <el-dialog\n      v-if=\"isShow\"\n      title=\"归还审核\"\n      :visible.sync=\"isShow\"\n      width=\"80%\"\n      @close=\"closeFn\"\n      append-to-body\n      style=\"text-align: left\">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"120px\" :rules=\"rules\" size=\"small\">\n        <el-form-item :model=\"form\" label=\"请求附件\" >\n          <template v-for=\"image in imagesList\">\n            <el-image\n              style=\"width: 100px; height: 100px;margin-left: 10px\"\n              :src=\"image\"\n              v-if=\"image.endsWith('jpg')\"\n              :preview-src-list=\"imagesList\">\n            </el-image>\n            <video\n              v-else\n              :src=\"image\"\n              :controls=\"true\"\n              class=\"video-js vjs-big-play-centered vjs-fluid\"\n              webkit-playsinline=\"true\"\n              playsinline=\"true\"\n              x-webkit-airplay=\"allow\"\n              x5-playsinline\n              style=\"max-width: 200px;max-height: 400px\"\n              :autoplay=\"false\"\n              ref=\"video\">\n            </video>\n          </template>\n        </el-form-item>\n        <el-form-item :model=\"form\" label=\"押金处理方式\" >\n          <span >{{depositType == 1?\"原路退回\":\"押金抵消\"}}</span>\n        </el-form-item>\n        <el-form-item :model=\"form\" label=\"申请备注\" >\n          <span >{{sendNote}}</span>\n        </el-form-item>\n        <el-form-item :model=\"form\" label=\"审批理由\" prop=\"note\">\n          <el-input\n            type=\"textarea\"\n            :rows=\"6\"\n            placeholder=\"请输入审批理由\"\n            v-model=\"form.note\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"isShow = false\">取 消</el-button>\n         <el-button type=\"primary\" @click=\"passConfirm\">通 过</el-button>\n        <el-button type=\"danger\" @click=\"refuseConfirm\">拒 绝</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\n\n  import {auditReturn, refused, returnRefused} from \"../../api/order/order\";\n  import vue from \"../../main\";\n\n  export default {\n    name: 'dialog',\n    data () {\n      return {\n        param:null,\n        isShow:false,\n        imagesList:[],\n        depositType:null,\n        sendNote:'',\n        form:{\n          orderId:null,\n          note:null\n        },\n        imageUrl: '',\n        textarea:'',\n        rules: {\n          note: [\n            { required: false, message: '请填写理由', trigger: 'blur' },\n          ]\n        }\n      };\n    },\n    watch: {\n      isShow(val, oldVal) {\n        if (!val){\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }\n      }\n    },\n    created () {\n      console.log(this.param)\n    },\n    mounted() {\n      if (this.param.sendVoucher){\n        var images = this.param.sendVoucher.split(\",\");\n        for (const image of images) {\n          this.imagesList.push(vue.$store.state.common.cloudDomain+image);\n        }\n      }\n\n      this.depositType = this.param.depositType;\n      this.sendNote = this.param.sendNote;\n      console.log(this.param)\n    },\n    activated () { },\n    methods: {\n      passConfirm(){\n        auditReturn(this.param.id).then(res => {\n          vue.$message({\n            type: 'success',\n            message: '审核成功!'\n          });\n          this.isShow = false\n          this.$nextTick(() => {\n            this.end(true);\n          })\n        }).catch(res => {\n\n        });\n      },\n      refuseConfirm(){\n        this.$refs.form.validate((valid) => {\n          console.log(valid)\n          if (valid) {\n            returnRefused(this.param.id).then(res => {\n              vue.$message({\n                type: 'success',\n                message: '拒绝成功!'\n              });\n              this.isShow = false\n              this.$nextTick(() => {\n                this.end(true);\n              })\n            }).catch(res => {\n            });\n          } else {\n            return false;\n          }\n        });\n\n      },\n      closeFn () {\n      },\n      handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n      }\n    },\n  };\n</script>\n<style lang=\"scss\" scope>\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"],"mappings":"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"}]}