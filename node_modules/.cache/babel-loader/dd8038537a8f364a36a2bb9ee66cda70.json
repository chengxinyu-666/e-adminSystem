{"remainingRequest":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\iframe\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\src\\components\\iframe\\main.vue","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\babel.config.js","mtime":1666766764000},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678778390429},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678778409044},{"path":"D:\\workCode\\xiaoE\\大圣系统源码\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678778410194}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _defineProperty from \"D:/workCode/xiaoE/\\u5927\\u5723\\u7CFB\\u7EDF\\u6E90\\u7801/admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { mapGetters } from \"vuex\";\nimport NProgress from \"nprogress\"; // progress bar\nimport \"nprogress/nprogress.css\"; // progress bar style\nexport default {\n  name: \"AvueIframe\",\n  data: function data() {\n    return {\n      urlPath: this.getUrlPath() //iframe src 路径\n    };\n  },\n  created: function created() {\n    NProgress.configure({\n      showSpinner: false\n    });\n  },\n  mounted: function mounted() {\n    this.load();\n    this.resize();\n  },\n  props: [\"routerPath\"],\n  watch: {\n    $route: function $route() {\n      this.load();\n    },\n    routerPath: function routerPath() {\n      // 监听routerPath变化，改变src路径\n      this.urlPath = this.getUrlPath();\n    }\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters([\"screen\"])), {}, {\n    src: function src() {\n      return this.$route.query.src ? this.$route.query.src.replace(\"$\", \"#\") : this.urlPath;\n    }\n  }),\n  methods: {\n    // 显示等待框\n    show: function show() {\n      NProgress.start();\n    },\n    // 隐藏等待狂\n    hide: function hide() {\n      NProgress.done();\n    },\n    // 加载浏览器窗口变化自适应\n    resize: function resize() {\n      var _this = this;\n      window.onresize = function () {\n        _this.iframeInit();\n      };\n    },\n    // 加载组件\n    load: function load() {\n      var _this2 = this;\n      this.show();\n      var flag = true; //URL是否包含问号\n      if (this.$route.query.src.indexOf(\"?\") == -1) {\n        flag = false;\n      }\n      var list = [];\n      for (var key in this.$route.query) {\n        if (key != \"src\" && key != \"name\" && key != \"i18n\") {\n          list.push(\"\".concat(key, \"= this.$route.query[key]\"));\n        }\n      }\n      list = list.join(\"&\").toString();\n      if (flag) {\n        this.$route.query.src = \"\".concat(this.$route.query.src).concat(list.length > 0 ? \"&list\" : \"\");\n      } else {\n        this.$route.query.src = \"\".concat(this.$route.query.src).concat(list.length > 0 ? \"?list\" : \"\");\n      }\n      //超时3s自动隐藏等待狂，加强用户体验\n      var time = 3;\n      var timeFunc = setInterval(function () {\n        time--;\n        if (time == 0) {\n          _this2.hide();\n          clearInterval(timeFunc);\n        }\n      }, 1000);\n      this.iframeInit();\n    },\n    //iframe窗口初始化\n    iframeInit: function iframeInit() {\n      var _this3 = this;\n      var iframe = this.$refs.iframe;\n      var clientHeight = document.documentElement.clientHeight - (screen > 1 ? 200 : 130);\n      if (!iframe) return;\n      iframe.style.height = \"\".concat(clientHeight, \"px\");\n      if (iframe.attachEvent) {\n        iframe.attachEvent(\"onload\", function () {\n          _this3.hide();\n        });\n      } else {\n        iframe.onload = function () {\n          _this3.hide();\n        };\n      }\n    },\n    getUrlPath: function getUrlPath() {\n      //获取 iframe src 路径\n      var url = window.location.href;\n      url = url.replace(\"/myiframe\", \"\");\n      return url;\n    }\n  }\n};",{"version":3,"names":["mapGetters","NProgress","name","data","urlPath","getUrlPath","created","configure","showSpinner","mounted","load","resize","props","watch","$route","routerPath","computed","_objectSpread","src","query","replace","methods","show","start","hide","done","_this","window","onresize","iframeInit","_this2","flag","indexOf","list","key","push","concat","join","toString","length","time","timeFunc","setInterval","clearInterval","_this3","iframe","$refs","clientHeight","document","documentElement","screen","style","height","attachEvent","onload","url","location","href"],"sources":["src/components/iframe/main.vue"],"sourcesContent":["<template>\r\n  <basic-container>\r\n    <iframe :src=\"src\"\r\n            class=\"iframe\"\r\n            ref=\"iframe\"></iframe>\r\n  </basic-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport NProgress from \"nprogress\"; // progress bar\r\nimport \"nprogress/nprogress.css\"; // progress bar style\r\nexport default {\r\n  name: \"AvueIframe\",\r\n  data() {\r\n    return {\r\n      urlPath: this.getUrlPath() //iframe src 路径\r\n    };\r\n  },\r\n  created() {\r\n    NProgress.configure({ showSpinner: false });\r\n  },\r\n  mounted() {\r\n    this.load();\r\n    this.resize();\r\n  },\r\n  props: [\"routerPath\"],\r\n  watch: {\r\n    $route: function() {\r\n      this.load();\r\n    },\r\n    routerPath: function() {\r\n      // 监听routerPath变化，改变src路径\r\n      this.urlPath = this.getUrlPath();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"screen\"]),\r\n    src() {\r\n      return this.$route.query.src\r\n        ? this.$route.query.src.replace(\"$\", \"#\")\r\n        : this.urlPath;\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示等待框\r\n    show() {\r\n      NProgress.start();\r\n    },\r\n    // 隐藏等待狂\r\n    hide() {\r\n      NProgress.done();\r\n    },\r\n    // 加载浏览器窗口变化自适应\r\n    resize() {\r\n      window.onresize = () => {\r\n        this.iframeInit();\r\n      };\r\n    },\r\n    // 加载组件\r\n    load() {\r\n      this.show();\r\n      var flag = true; //URL是否包含问号\r\n      if (this.$route.query.src.indexOf(\"?\") == -1) {\r\n        flag = false;\r\n      }\r\n      var list = [];\r\n      for (var key in this.$route.query) {\r\n        if (key != \"src\" && key != \"name\" && key != \"i18n\") {\r\n          list.push(`${key}= this.$route.query[key]`);\r\n        }\r\n      }\r\n      list = list.join(\"&\").toString();\r\n      if (flag) {\r\n        this.$route.query.src = `${this.$route.query.src}${\r\n          list.length > 0 ? `&list` : \"\"\r\n        }`;\r\n      } else {\r\n        this.$route.query.src = `${this.$route.query.src}${\r\n          list.length > 0 ? `?list` : \"\"\r\n        }`;\r\n      }\r\n      //超时3s自动隐藏等待狂，加强用户体验\r\n      let time = 3;\r\n      const timeFunc = setInterval(() => {\r\n        time--;\r\n        if (time == 0) {\r\n          this.hide();\r\n          clearInterval(timeFunc);\r\n        }\r\n      }, 1000);\r\n      this.iframeInit();\r\n    },\r\n    //iframe窗口初始化\r\n    iframeInit() {\r\n      const iframe = this.$refs.iframe;\r\n      const clientHeight =\r\n        document.documentElement.clientHeight - (screen > 1 ? 200 : 130);\r\n      if (!iframe) return;\r\n      iframe.style.height = `${clientHeight}px`;\r\n      if (iframe.attachEvent) {\r\n        iframe.attachEvent(\"onload\", () => {\r\n          this.hide();\r\n        });\r\n      } else {\r\n        iframe.onload = () => {\r\n          this.hide();\r\n        };\r\n      }\r\n    },\r\n    getUrlPath: function() {\r\n      //获取 iframe src 路径\r\n      let url = window.location.href;\r\n      url = url.replace(\"/myiframe\", \"\");\r\n      return url;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.iframe {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 0;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n</style>"],"mappings":"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"}]}